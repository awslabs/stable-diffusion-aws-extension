openapi: 3.1.0
info:
  title: Extension for Stable Diffusion on AWS
  description: 'This is a WebUI extension to help user migrate existing workload (inference, train, ckpt merge etc.) from local server or standalone server to AWS Cloud.'
  version: 1.2.1
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0.html'
tags:
  - name: Test
  - name: Role
  - name: User
  - name: Checkpoint
  - name: Endpoint
  - name: Inference
  - name: Inference/Other
  - name: Dataset
  - name: Model
  - name: Train
paths:
  /inference/test-connection:
    get:
      summary: TestConnection
      x-apifox-folder: Test
      x-apifox-status: released
      deprecated: false
      description: Test whether client can connect to api and check the API_TOKEN is correct
      operationId: TestConnection
      tags:
        - Test
      parameters: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                required:
                  - message
                x-apifox-orders:
                  - message
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    message: Success
      security:
        - apikey-header-x-api-key: []
  /roles:
    get:
      summary: ListRoles
      x-apifox-folder: Role
      x-apifox-status: released
      deprecated: false
      description: List all roles
      operationId: ListRoles
      tags:
        - Role
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
        - name: role
          in: query
          description: Role Name
          required: false
          example: Designer
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  roles:
                    type: array
                    items:
                      $ref: '#/components/schemas/Role'
                  previous_evaluated_key:
                    type: string
                  last_evaluated_key:
                    type: 'null'
                required:
                  - statusCode
                  - roles
                  - previous_evaluated_key
                  - last_evaluated_key
                x-apifox-orders:
                  - statusCode
                  - roles
                  - previous_evaluated_key
                  - last_evaluated_key
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    roles:
                      - role_name: Designer
                        creator: admin
                        permissions:
                          - 'train:all'
                          - 'checkpoint:all'
                          - 'inference:all'
                          - 'sagemaker_endpoint:all'
                          - 'user:all'
                      - role_name: IT Operator
                        creator: admin
                        permissions:
                          - 'train:all'
                          - 'checkpoint:all'
                          - 'inference:all'
                          - 'sagemaker_endpoint:all'
                          - 'user:all'
                          - 'role:all'
                    previous_evaluated_key: not_applicable
                    last_evaluated_key: null
      security:
        - apikey-header-x-api-key: []
        - authorization: []
  /role:
    post:
      summary: CreateRole
      x-apifox-folder: Role
      x-apifox-status: released
      deprecated: false
      description: Create a new role
      operationId: CreateRole
      tags:
        - Role
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Role'
            example:
              role_name: new_role_name
              creator: admin
              permissions:
                - 'train:all'
                - 'checkpoint:all'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  role:
                    $ref: '#/components/schemas/Role'
                required:
                  - statusCode
                  - role
                x-apifox-orders:
                  - statusCode
                  - role
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    role:
                      role_name: new_role_name
                      permissions:
                        - 'train:all'
                        - 'checkpoint:all'
                      creator: admin
      security:
        - apikey-header-x-api-key: []
  /users:
    get:
      summary: ListUsers
      x-apifox-folder: User
      x-apifox-status: released
      deprecated: false
      description: List all users
      operationId: ListUsers
      tags:
        - User
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                  users:
                    type: array
                    items:
                      $ref: '#/components/schemas/User'
                required:
                  - status
                  - users
                x-apifox-orders:
                  - status
                  - users
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    status: 200
                    users:
                      - username: admin
                        roles:
                          - IT Operator
                        creator: admin
                        permissions:
                          - 'checkpoint:all'
                          - 'inference:all'
                          - 'role:all'
                          - 'sagemaker_endpoint:all'
                          - 'train:all'
                          - 'user:all'
                        password: '********'
                    previous_evaluated_key: not_applicable
                    last_evaluated_key: not_applicable
      security:
        - apikey-header-x-api-key: []
  /user:
    post:
      summary: CreateUser
      x-apifox-folder: User
      x-apifox-status: released
      deprecated: false
      description: Create a new user
      operationId: CreateUser
      tags:
        - User
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-apifox-refs:
                01HH1NVYZXCQ1FC2Y6B4C73MM9:
                  $ref: '#/components/schemas/User'
              x-apifox-orders:
                - 01HH1NVYZXCQ1FC2Y6B4C73MM9
              properties:
                username:
                  type: string
                  description: User Name
                roles:
                  type: array
                  items:
                    type: string
                  description: Roles
                creator:
                  type: string
                  description: Creator User Name
                password:
                  type: string
                  description: Password
              required:
                - username
                - roles
                - creator
                - password
              x-apifox-ignore-properties:
                - username
                - roles
                - creator
                - password
            example:
              username: username
              password: XXXXXXXXXXXXX
              creator: admin
              roles:
                - IT Operator
                - Designer
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  user:
                    type: object
                    x-apifox-refs:
                      01HH1P1707QX78DRN7AZVHVHS7:
                        $ref: '#/components/schemas/User'
                    x-apifox-orders:
                      - 01HH1P1707QX78DRN7AZVHVHS7
                    properties:
                      username:
                        type: string
                        description: User Name
                      roles:
                        type: array
                        items:
                          type: string
                        description: Roles
                      creator:
                        type: string
                        description: Creator User Name
                    required:
                      - username
                      - roles
                      - creator
                    x-apifox-ignore-properties:
                      - username
                      - roles
                      - creator
                required:
                  - statusCode
                  - user
                x-apifox-orders:
                  - statusCode
                  - user
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    user:
                      username: username
                      roles:
                        - IT Operator
                        - Designer
                      creator: admin
      security:
        - apikey-header-x-api-key: []
  '/user/{userName}':
    delete:
      summary: DeleteUser
      x-apifox-folder: User
      x-apifox-status: released
      deprecated: false
      description: 'Delete a user '
      operationId: DeleteUser
      tags:
        - User
      parameters:
        - name: userName
          in: path
          required: true
          description: User Name
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  user:
                    type: object
                    properties:
                      username:
                        type: string
                        description: User Name
                      status:
                        type: string
                        description: Delete Status
                    required:
                      - username
                      - status
                    x-apifox-orders:
                      - username
                      - status
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - user
                x-apifox-orders:
                  - statusCode
                  - user
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    user:
                      username: username
                      status: deleted
      security:
        - apikey-header-x-api-key: []
  /checkpoint:
    post:
      summary: CreateCheckpoint
      x-apifox-folder: Checkpoint
      x-apifox-status: released
      deprecated: false
      description: Create a new Checkpoint
      operationId: CreateCheckpoint
      tags:
        - Checkpoint
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                checkpoint_type:
                  type: string
                  description: Checkpoint Type
                filenames:
                  type: array
                  items:
                    type: object
                    properties:
                      filename:
                        type: string
                        description: File Name
                      parts_number:
                        type: integer
                        description: File Size / 1024MB
                    x-apifox-orders:
                      - filename
                      - parts_number
                    x-apifox-ignore-properties: []
                params:
                  type: object
                  properties:
                    message:
                      type: string
                      description: Checkpoint Message
                    creator:
                      type: string
                      description: User Name
                  required:
                    - message
                    - creator
                  x-apifox-orders:
                    - message
                    - creator
                  x-apifox-ignore-properties: []
              required:
                - checkpoint_type
                - filenames
                - params
              x-apifox-orders:
                - checkpoint_type
                - filenames
                - params
              x-apifox-ignore-properties: []
            example:
              checkpoint_type: Stable-diffusion
              filenames:
                - filename: v1-5-pruned-emaonly.safetensors
                  parts_number: 5
              params:
                message: placeholder for chkpts upload test
                creator: admin
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  headers:
                    type: object
                    properties:
                      Access-Control-Allow-Headers:
                        type: string
                      Access-Control-Allow-Origin:
                        type: string
                      Access-Control-Allow-Methods:
                        type: string
                    required:
                      - Access-Control-Allow-Headers
                      - Access-Control-Allow-Origin
                      - Access-Control-Allow-Methods
                    x-apifox-orders:
                      - Access-Control-Allow-Headers
                      - Access-Control-Allow-Origin
                      - Access-Control-Allow-Methods
                    x-apifox-ignore-properties: []
                  checkpoint:
                    type: object
                    properties:
                      id:
                        type: string
                      type:
                        type: string
                      s3_location:
                        type: string
                      status:
                        type: string
                      params:
                        type: object
                        properties:
                          message:
                            type: string
                          creator:
                            type: string
                          created:
                            type: string
                          multipart_upload:
                            type: object
                            properties:
                              v1-5-pruned-emaonly.safetensors:
                                type: object
                                properties:
                                  upload_id:
                                    type: string
                                  bucket:
                                    type: string
                                  key:
                                    type: string
                                required:
                                  - upload_id
                                  - bucket
                                  - key
                                x-apifox-orders:
                                  - upload_id
                                  - bucket
                                  - key
                                x-apifox-ignore-properties: []
                            required:
                              - v1-5-pruned-emaonly.safetensors
                            x-apifox-orders:
                              - v1-5-pruned-emaonly.safetensors
                            x-apifox-ignore-properties: []
                        required:
                          - message
                          - creator
                          - created
                          - multipart_upload
                        x-apifox-orders:
                          - message
                          - creator
                          - created
                          - multipart_upload
                        x-apifox-ignore-properties: []
                    required:
                      - id
                      - type
                      - s3_location
                      - status
                      - params
                    x-apifox-orders:
                      - id
                      - type
                      - s3_location
                      - status
                      - params
                    x-apifox-ignore-properties: []
                  s3PresignUrl:
                    type: object
                    properties:
                      v1-5-pruned-emaonly.safetensors:
                        type: array
                        items:
                          type: string
                    required:
                      - v1-5-pruned-emaonly.safetensors
                    x-apifox-orders:
                      - v1-5-pruned-emaonly.safetensors
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - headers
                  - checkpoint
                  - s3PresignUrl
                x-apifox-orders:
                  - statusCode
                  - headers
                  - checkpoint
                  - s3PresignUrl
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    headers:
                      Access-Control-Allow-Headers: Content-Type
                      Access-Control-Allow-Origin: '*'
                      Access-Control-Allow-Methods: 'OPTIONS,POST,GET'
                    checkpoint:
                      id: dc58876f-73c7-4d0c-bf16-1ba2f8cefc37
                      type: Stable-diffusion
                      s3_location: 's3://******/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37'
                      status: Initial
                      params:
                        message: placeholder for chkpts upload test
                        creator: admin
                        created: '2023-12-07 00:23:24.217241'
                        multipart_upload:
                          v1-5-pruned-emaonly.safetensors:
                            upload_id: _vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL
                            bucket: '******'
                            key: Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors
                    s3PresignUrl:
                      v1-5-pruned-emaonly.safetensors:
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors?uploadId=_vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL&partNumber=1&AWSAccessKeyId=*************&Signature=fSiljZ5P%2BPuheilEySYGx%2BViTio%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDAaDmFwLW5vcnRoZWFzdC0xIkgwRgIhAP7N4Y%2FHESMpmIdzM6WzCgU0pxCZD3H0%2B1o1jYTW34KtAiEAsjSz2dlxr%2F%2FxJtj1HQXm1z3SHjNIO2avxlfH3TWYEj8qqQMImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDC3zm7wM%2FVpv5pFkWir9Aoi3PhKZ2uboYVOcK%2BFszhfYMx9XJ3gGhow%2F4Abcht6b9mT7hPDqWc8fnDz83BBSwOgyAAj8IzDeCiEFqEG6d6O%2FlOz8NgyTqLg%2FGPHqu1DQWBoFZLLgKar%2FhkJ6YJORtcdEErCjh7Iw2GLHZwr2%2Fbk6%2BEmvPZZnj6siGV3wfXqg48RU7rQwOw0mtzGac0dQRMIRE%2FigaLJCWNvYKJpeaG6FRGk97xC0TrAGyxL%2F%2BQHEUiZAcYL54yfUsJmDVnIpYwd4owt0F3Du%2F%2FEHB%2F%2FHRW1fT8dExX7cTBCw%2BU1Nn7hjpZIP3B5VMajgujSBrE%2FcCIERhiRUpZh9A3ba5tPuNeCwLub8BQaNJdhEuCAHC1u%2FX0qUU3APHjnrid1AI6RkBFoZQyBTODlBg%2Fai7XIvcOfkbhk5sIUk06d2zAHzdFGCIpUyexBqdVwzmLYE4kvB1R6ls%2FbCbIEiRfRU2o8Ry6xYWHcTtnOFhVLwxw%2BkBPllQ5Bhq8BrnBQI93Og%2BzD6oMSrBjqcAa2kL%2BiCMoKkufLt6MKuj4l1Y5H6w%2BpWX7vydqzKgUJtzHDo%2Ff7Yg%2Fjn4NOjbWokz11YrVytW5kBfoJpX2Yk05kFR0CZLmagIRTvk%2FUdVkXkTW%2BmhwWKTprotoE4tar%2FGuxLJFryLwVVVdKTTqWjKGNpPY5Xc2VMtcYp42zH4V41rbjMFi4tN8nt9OeylfKCAsOUjBxJqfYOUBlGng%3D%3D&Expires=1701912204'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors?uploadId=_vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL&partNumber=2&AWSAccessKeyId=*************&Signature=7ILgYul7zkbluQJPLuXsyEp2JEc%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDAaDmFwLW5vcnRoZWFzdC0xIkgwRgIhAP7N4Y%2FHESMpmIdzM6WzCgU0pxCZD3H0%2B1o1jYTW34KtAiEAsjSz2dlxr%2F%2FxJtj1HQXm1z3SHjNIO2avxlfH3TWYEj8qqQMImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDC3zm7wM%2FVpv5pFkWir9Aoi3PhKZ2uboYVOcK%2BFszhfYMx9XJ3gGhow%2F4Abcht6b9mT7hPDqWc8fnDz83BBSwOgyAAj8IzDeCiEFqEG6d6O%2FlOz8NgyTqLg%2FGPHqu1DQWBoFZLLgKar%2FhkJ6YJORtcdEErCjh7Iw2GLHZwr2%2Fbk6%2BEmvPZZnj6siGV3wfXqg48RU7rQwOw0mtzGac0dQRMIRE%2FigaLJCWNvYKJpeaG6FRGk97xC0TrAGyxL%2F%2BQHEUiZAcYL54yfUsJmDVnIpYwd4owt0F3Du%2F%2FEHB%2F%2FHRW1fT8dExX7cTBCw%2BU1Nn7hjpZIP3B5VMajgujSBrE%2FcCIERhiRUpZh9A3ba5tPuNeCwLub8BQaNJdhEuCAHC1u%2FX0qUU3APHjnrid1AI6RkBFoZQyBTODlBg%2Fai7XIvcOfkbhk5sIUk06d2zAHzdFGCIpUyexBqdVwzmLYE4kvB1R6ls%2FbCbIEiRfRU2o8Ry6xYWHcTtnOFhVLwxw%2BkBPllQ5Bhq8BrnBQI93Og%2BzD6oMSrBjqcAa2kL%2BiCMoKkufLt6MKuj4l1Y5H6w%2BpWX7vydqzKgUJtzHDo%2Ff7Yg%2Fjn4NOjbWokz11YrVytW5kBfoJpX2Yk05kFR0CZLmagIRTvk%2FUdVkXkTW%2BmhwWKTprotoE4tar%2FGuxLJFryLwVVVdKTTqWjKGNpPY5Xc2VMtcYp42zH4V41rbjMFi4tN8nt9OeylfKCAsOUjBxJqfYOUBlGng%3D%3D&Expires=1701912204'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors?uploadId=_vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL&partNumber=3&AWSAccessKeyId=*************&Signature=sZA4dAgxxub%2BdJObpLqj%2B0VK%2Bbs%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDAaDmFwLW5vcnRoZWFzdC0xIkgwRgIhAP7N4Y%2FHESMpmIdzM6WzCgU0pxCZD3H0%2B1o1jYTW34KtAiEAsjSz2dlxr%2F%2FxJtj1HQXm1z3SHjNIO2avxlfH3TWYEj8qqQMImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDC3zm7wM%2FVpv5pFkWir9Aoi3PhKZ2uboYVOcK%2BFszhfYMx9XJ3gGhow%2F4Abcht6b9mT7hPDqWc8fnDz83BBSwOgyAAj8IzDeCiEFqEG6d6O%2FlOz8NgyTqLg%2FGPHqu1DQWBoFZLLgKar%2FhkJ6YJORtcdEErCjh7Iw2GLHZwr2%2Fbk6%2BEmvPZZnj6siGV3wfXqg48RU7rQwOw0mtzGac0dQRMIRE%2FigaLJCWNvYKJpeaG6FRGk97xC0TrAGyxL%2F%2BQHEUiZAcYL54yfUsJmDVnIpYwd4owt0F3Du%2F%2FEHB%2F%2FHRW1fT8dExX7cTBCw%2BU1Nn7hjpZIP3B5VMajgujSBrE%2FcCIERhiRUpZh9A3ba5tPuNeCwLub8BQaNJdhEuCAHC1u%2FX0qUU3APHjnrid1AI6RkBFoZQyBTODlBg%2Fai7XIvcOfkbhk5sIUk06d2zAHzdFGCIpUyexBqdVwzmLYE4kvB1R6ls%2FbCbIEiRfRU2o8Ry6xYWHcTtnOFhVLwxw%2BkBPllQ5Bhq8BrnBQI93Og%2BzD6oMSrBjqcAa2kL%2BiCMoKkufLt6MKuj4l1Y5H6w%2BpWX7vydqzKgUJtzHDo%2Ff7Yg%2Fjn4NOjbWokz11YrVytW5kBfoJpX2Yk05kFR0CZLmagIRTvk%2FUdVkXkTW%2BmhwWKTprotoE4tar%2FGuxLJFryLwVVVdKTTqWjKGNpPY5Xc2VMtcYp42zH4V41rbjMFi4tN8nt9OeylfKCAsOUjBxJqfYOUBlGng%3D%3D&Expires=1701912204'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors?uploadId=_vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL&partNumber=4&AWSAccessKeyId=*************&Signature=VGo2AtF8SxYd5z7CnkIO0BGyz1Y%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDAaDmFwLW5vcnRoZWFzdC0xIkgwRgIhAP7N4Y%2FHESMpmIdzM6WzCgU0pxCZD3H0%2B1o1jYTW34KtAiEAsjSz2dlxr%2F%2FxJtj1HQXm1z3SHjNIO2avxlfH3TWYEj8qqQMImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDC3zm7wM%2FVpv5pFkWir9Aoi3PhKZ2uboYVOcK%2BFszhfYMx9XJ3gGhow%2F4Abcht6b9mT7hPDqWc8fnDz83BBSwOgyAAj8IzDeCiEFqEG6d6O%2FlOz8NgyTqLg%2FGPHqu1DQWBoFZLLgKar%2FhkJ6YJORtcdEErCjh7Iw2GLHZwr2%2Fbk6%2BEmvPZZnj6siGV3wfXqg48RU7rQwOw0mtzGac0dQRMIRE%2FigaLJCWNvYKJpeaG6FRGk97xC0TrAGyxL%2F%2BQHEUiZAcYL54yfUsJmDVnIpYwd4owt0F3Du%2F%2FEHB%2F%2FHRW1fT8dExX7cTBCw%2BU1Nn7hjpZIP3B5VMajgujSBrE%2FcCIERhiRUpZh9A3ba5tPuNeCwLub8BQaNJdhEuCAHC1u%2FX0qUU3APHjnrid1AI6RkBFoZQyBTODlBg%2Fai7XIvcOfkbhk5sIUk06d2zAHzdFGCIpUyexBqdVwzmLYE4kvB1R6ls%2FbCbIEiRfRU2o8Ry6xYWHcTtnOFhVLwxw%2BkBPllQ5Bhq8BrnBQI93Og%2BzD6oMSrBjqcAa2kL%2BiCMoKkufLt6MKuj4l1Y5H6w%2BpWX7vydqzKgUJtzHDo%2Ff7Yg%2Fjn4NOjbWokz11YrVytW5kBfoJpX2Yk05kFR0CZLmagIRTvk%2FUdVkXkTW%2BmhwWKTprotoE4tar%2FGuxLJFryLwVVVdKTTqWjKGNpPY5Xc2VMtcYp42zH4V41rbjMFi4tN8nt9OeylfKCAsOUjBxJqfYOUBlGng%3D%3D&Expires=1701912204'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/custom/dc58876f-73c7-4d0c-bf16-1ba2f8cefc37/v1-5-pruned-emaonly.safetensors?uploadId=_vx8lq2.JP1AjnJM1QbkL_U.NdvFdJwQ51D11JaXWZcaaJR5MHXmEYXMe7XfxVKvnrFEDLebDdwcIO9.vp4FMh9SiJ7R7UaLFh4MXZWofJ3mdxw5WZ4XNXvtFswPeyM_LOSKsbMMe9B7cH5raZtGxX5V6VvA58xNF5hkSFHqkbcka6gRhFDlu_tRwbh4IPOL&partNumber=5&AWSAccessKeyId=*************&Signature=B818nZvQPqXww%2FVdjK8RCCTCQlo%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDAaDmFwLW5vcnRoZWFzdC0xIkgwRgIhAP7N4Y%2FHESMpmIdzM6WzCgU0pxCZD3H0%2B1o1jYTW34KtAiEAsjSz2dlxr%2F%2FxJtj1HQXm1z3SHjNIO2avxlfH3TWYEj8qqQMImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDC3zm7wM%2FVpv5pFkWir9Aoi3PhKZ2uboYVOcK%2BFszhfYMx9XJ3gGhow%2F4Abcht6b9mT7hPDqWc8fnDz83BBSwOgyAAj8IzDeCiEFqEG6d6O%2FlOz8NgyTqLg%2FGPHqu1DQWBoFZLLgKar%2FhkJ6YJORtcdEErCjh7Iw2GLHZwr2%2Fbk6%2BEmvPZZnj6siGV3wfXqg48RU7rQwOw0mtzGac0dQRMIRE%2FigaLJCWNvYKJpeaG6FRGk97xC0TrAGyxL%2F%2BQHEUiZAcYL54yfUsJmDVnIpYwd4owt0F3Du%2F%2FEHB%2F%2FHRW1fT8dExX7cTBCw%2BU1Nn7hjpZIP3B5VMajgujSBrE%2FcCIERhiRUpZh9A3ba5tPuNeCwLub8BQaNJdhEuCAHC1u%2FX0qUU3APHjnrid1AI6RkBFoZQyBTODlBg%2Fai7XIvcOfkbhk5sIUk06d2zAHzdFGCIpUyexBqdVwzmLYE4kvB1R6ls%2FbCbIEiRfRU2o8Ry6xYWHcTtnOFhVLwxw%2BkBPllQ5Bhq8BrnBQI93Og%2BzD6oMSrBjqcAa2kL%2BiCMoKkufLt6MKuj4l1Y5H6w%2BpWX7vydqzKgUJtzHDo%2Ff7Yg%2Fjn4NOjbWokz11YrVytW5kBfoJpX2Yk05kFR0CZLmagIRTvk%2FUdVkXkTW%2BmhwWKTprotoE4tar%2FGuxLJFryLwVVVdKTTqWjKGNpPY5Xc2VMtcYp42zH4V41rbjMFi4tN8nt9OeylfKCAsOUjBxJqfYOUBlGng%3D%3D&Expires=1701912204'
      security:
        - apikey-header-x-api-key: []
    put:
      summary: UpdateCheckpoint
      x-apifox-folder: Checkpoint
      x-apifox-status: released
      deprecated: false
      description: Update a Checkpoint
      operationId: UpdateCheckpoint
      tags:
        - Checkpoint
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                checkpoint_id:
                  type: string
                  description: Checkpoint ID
                status:
                  type: string
                  description: Checkpoint Status
                multi_parts_tags:
                  type: object
                  properties:
                    v1-5-pruned-emaonly.safetensors:
                      type: array
                      items:
                        type: object
                        properties:
                          ETag:
                            type: string
                          PartNumber:
                            type: integer
                        required:
                          - ETag
                          - PartNumber
                        x-apifox-orders:
                          - ETag
                          - PartNumber
                        x-apifox-ignore-properties: []
                  required:
                    - v1-5-pruned-emaonly.safetensors
                  x-apifox-orders:
                    - v1-5-pruned-emaonly.safetensors
                  description: ETags
                  x-apifox-ignore-properties: []
              required:
                - checkpoint_id
                - status
                - multi_parts_tags
              x-apifox-orders:
                - checkpoint_id
                - status
                - multi_parts_tags
              x-apifox-ignore-properties: []
            example:
              checkpoint_id: 5b47fc8f-c1b0-47ad-9d85-ad0f08526e28
              status: Active
              multi_parts_tags:
                v1-5-pruned-emaonly.safetensors:
                  - ETag: '"e6279f0ad8bf8048c0d106095c4d4b24"'
                    PartNumber: 1
                  - ETag: '"01a458e7d019140cb792b577596b7918"'
                    PartNumber: 2
                  - ETag: '"296e59a1fb1ea02f6512c5b4c4565bea"'
                    PartNumber: 3
                  - ETag: '"9dd22961ddf32130a22b36dc53f93fd0"'
                    PartNumber: 4
                  - ETag: '"bfb91caed0e9f1aaaca7a0f125e7e96b"'
                    PartNumber: 5
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  headers:
                    type: object
                    properties:
                      Access-Control-Allow-Headers:
                        type: string
                      Access-Control-Allow-Origin:
                        type: string
                      Access-Control-Allow-Methods:
                        type: string
                    required:
                      - Access-Control-Allow-Headers
                      - Access-Control-Allow-Origin
                      - Access-Control-Allow-Methods
                    x-apifox-orders:
                      - Access-Control-Allow-Headers
                      - Access-Control-Allow-Origin
                      - Access-Control-Allow-Methods
                    x-apifox-ignore-properties: []
                  checkpoint:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ID
                      type:
                        type: string
                        description: Type
                      s3_location:
                        type: string
                        description: S3 Key
                      status:
                        type: string
                        description: Status
                      params:
                        type: object
                        properties:
                          creator:
                            type: string
                            description: User Name
                          multipart_upload:
                            type: object
                            properties:
                              v1-5-pruned-emaonly.safetensors:
                                type: object
                                properties:
                                  bucket:
                                    type: string
                                  upload_id:
                                    type: string
                                  key:
                                    type: string
                                required:
                                  - bucket
                                  - upload_id
                                  - key
                                x-apifox-orders:
                                  - bucket
                                  - upload_id
                                  - key
                                x-apifox-ignore-properties: []
                            required:
                              - v1-5-pruned-emaonly.safetensors
                            x-apifox-orders:
                              - v1-5-pruned-emaonly.safetensors
                            description: S3 Multipart Upload
                            x-apifox-ignore-properties: []
                          message:
                            type: string
                            description: Message
                          created:
                            type: string
                            description: Created At
                        required:
                          - creator
                          - multipart_upload
                          - message
                          - created
                        x-apifox-orders:
                          - creator
                          - multipart_upload
                          - message
                          - created
                        x-apifox-ignore-properties: []
                    required:
                      - id
                      - type
                      - s3_location
                      - status
                      - params
                    x-apifox-orders:
                      - id
                      - type
                      - s3_location
                      - status
                      - params
                    description: Checkpoint
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - headers
                  - checkpoint
                x-apifox-orders:
                  - statusCode
                  - headers
                  - checkpoint
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    headers:
                      Access-Control-Allow-Headers: Content-Type
                      Access-Control-Allow-Origin: '*'
                      Access-Control-Allow-Methods: 'OPTIONS,POST,GET'
                    checkpoint:
                      id: d613760c-c8f7-466a-9838-cea3033bf57d
                      type: Stable-diffusion
                      s3_location: 's3://******/Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d'
                      status: Initial
                      params:
                        creator: admin
                        multipart_upload:
                          v1-5-pruned-emaonly.safetensors:
                            bucket: '******'
                            upload_id: KFzbB7FwAuCDkR3NRaAO81uNM6E38KrvbB9m9T2dPlE0XUbOXrDB0c9CbhpLA3wFqnN6uTf0qh7HOYOmSXFwicHYOL7XfPMAhsT0cbxRhWvbyKPo8bO_wXrFcbUMDY.ef4vFZNKfdKaRba23Src44CrwGtYjkp3RQ8dEZubjleVTTTz0gaclwjfxmrdpqcZa
                            key: Stable-diffusion/checkpoint/custom/d613760c-c8f7-466a-9838-cea3033bf57d/v1-5-pruned-emaonly.safetensors
                        message: api-test-message
                        created: '2023-12-07 00:45:59.334826'
      security:
        - apikey-header-x-api-key: []
  /checkpoints:
    get:
      summary: ListCheckpoints
      x-apifox-folder: Checkpoint
      x-apifox-status: released
      deprecated: false
      description: Lists all checkpoints
      operationId: ListCheckpoints
      tags:
        - Checkpoint
      parameters:
        - name: 'status[]'
          in: query
          description: Checkpoint Status
          required: false
          example: Active
          schema:
            type: string
        - name: username
          in: query
          description: User Name
          required: false
          example: admin
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  checkpoints:
                    type: array
                    items:
                      $ref: '#/components/schemas/Checkpoint'
                required:
                  - statusCode
                  - checkpoints
                x-apifox-orders:
                  - statusCode
                  - checkpoints
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    checkpoints:
                      - id: f8d9ca70-6957-4c44-92e2-90c0879db573
                        s3Location: 's3://******/Stable-diffusion/checkpoint/custom/f8d9ca70-6957-4c44-92e2-90c0879db573'
                        type: Stable-diffusion
                        status: Active
                        name:
                          - sd_xl_base_1.0.safetensors
                        created: 1701758350.218467
                        allowed_roles_or_users:
                          - IT Operator
      security:
        - apikey-header-x-api-key: []
  /endpoints:
    get:
      summary: ListEndpoints
      x-apifox-folder: Endpoint
      x-apifox-status: released
      deprecated: false
      description: Lists all endpoint deployment jobs
      operationId: ListEndpoints
      tags:
        - Endpoint
      parameters:
        - name: username
          in: query
          description: User Name
          required: false
          example: admin
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  endpoints:
                    type: array
                    items:
                      $ref: '#/components/schemas/Endpoint'
                required:
                  - statusCode
                  - endpoints
                x-apifox-orders:
                  - statusCode
                  - endpoints
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    endpoints:
                      - EndpointDeploymentJobId: 535aed8d-99ca-48ca-8285-4bffb8b07e73
                        autoscaling: false
                        max_instance_number: '2'
                        startTime: '2023-12-06 15:29:49.882271'
                        status: null
                        current_instance_count: 2
                        endTime: '2023-12-06 15:38:05.777649'
                        endpoint_status: InService
                        endpoint_name: infer-endpoint-prod
                        error: null
                        owner_group_or_role:
                          - Designer
                          - IT Operator
      security:
        - apikey-header-x-api-key: []
    post:
      summary: CreateEndpoint
      x-apifox-folder: Endpoint
      x-apifox-status: released
      deprecated: false
      description: Deploys a SageMaker endpoint
      operationId: CreateEndpoint
      tags:
        - Endpoint
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                endpoint_name:
                  type: string
                  description: Endpoint Name
                instance_type:
                  type: string
                  description: Instance Types
                initial_instance_count:
                  type: string
                  description: Initial Instance Count
                autoscaling_enabled:
                  type: boolean
                  description: Autoscaling Enabled
                assign_to_roles:
                  type: array
                  items:
                    type: string
                  description: Roles
                creator:
                  type: string
                  description: User Name
              required:
                - endpoint_name
                - instance_type
                - initial_instance_count
                - autoscaling_enabled
                - assign_to_roles
                - creator
              x-apifox-orders:
                - endpoint_name
                - instance_type
                - initial_instance_count
                - autoscaling_enabled
                - assign_to_roles
                - creator
              x-apifox-ignore-properties: []
            example:
              endpoint_name: test
              instance_type: ml.g5.2xlarge
              initial_instance_count: '1'
              autoscaling_enabled: false
              assign_to_roles:
                - Designer
                - IT Operator
              creator: admin
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  message:
                    type: string
                  data:
                    $ref: '#/components/schemas/Endpoint'
                required:
                  - statusCode
                  - message
                  - data
                x-apifox-orders:
                  - statusCode
                  - message
                  - data
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    message: 'Endpoint deployment started: infer-endpoint-prod'
                    data:
                      EndpointDeploymentJobId: 60b12a2e-c54d-496c-b405-1bc77b17e2f9
                      autoscaling: false
                      max_instance_number: '1'
                      startTime: '2023-12-07 01:08:43.410628'
                      status: null
                      current_instance_count: '0'
                      endTime: null
                      endpoint_status: Creating
                      endpoint_name: infer-endpoint-prod
                      error: null
                      owner_group_or_role:
                        - Designer
                        - IT Operator
      security:
        - apikey-header-x-api-key: []
    delete:
      summary: DeleteEndpoints
      x-apifox-folder: Endpoint
      x-apifox-status: released
      deprecated: false
      description: Deletes SageMaker endpoints
      operationId: DeleteEndpoints
      tags:
        - Endpoint
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                delete_endpoint_list:
                  type: array
                  items:
                    type: string
                  description: Endpoint Name List
                username:
                  type: string
                  description: User Name
              required:
                - delete_endpoint_list
                - username
              x-apifox-orders:
                - delete_endpoint_list
                - username
              x-apifox-ignore-properties: []
            example:
              delete_endpoint_list:
                - infer-endpoint-test
              username: admin
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties: {}
                x-apifox-orders: []
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value: Endpoint deleted
      security:
        - apikey-header-x-api-key: []
  /inference/v2:
    post:
      summary: CreateInferenceJob
      x-apifox-folder: Inference
      x-apifox-status: released
      deprecated: false
      description: |-
        Run sagemaker inference using default parameters
        When you got response, you have to upload your Payload to `api_params_s3_upload_url`
      operationId: CreateInferenceJob
      tags:
        - Inference
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_id:
                  type: string
                  description: User Name
                task_type:
                  type: string
                  description: Task Type
                models:
                  type: object
                  properties:
                    Stable-diffusion:
                      type: array
                      items:
                        type: string
                    embeddings:
                      type: array
                      items:
                        type: string
                  required:
                    - Stable-diffusion
                    - embeddings
                  x-apifox-orders:
                    - Stable-diffusion
                    - embeddings
                  description: Model List
                  x-apifox-ignore-properties: []
                filters:
                  type: object
                  properties: {}
                  x-apifox-orders: []
                  x-apifox-ignore-properties: []
              required:
                - user_id
                - task_type
                - models
                - filters
              x-apifox-orders:
                - user_id
                - task_type
                - models
                - filters
              x-apifox-ignore-properties: []
            example:
              user_id: admin
              task_type: txt2img
              models:
                Stable-diffusion:
                  - v1-5-pruned-emaonly.safetensors
                embeddings: []
              filters: {}
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  inference:
                    type: object
                    properties:
                      id:
                        type: string
                        description: ID
                      type:
                        type: string
                        description: Type
                      api_params_s3_location:
                        type: string
                        description: Params S3 Key
                      api_params_s3_upload_url:
                        type: string
                        description: Params S3 Put URL
                      models:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: ID
                            name:
                              type: array
                              items:
                                type: string
                              description: Name
                            type:
                              type: string
                              description: Type
                          x-apifox-orders:
                            - id
                            - name
                            - type
                          x-apifox-ignore-properties: []
                        description: Model List
                    required:
                      - id
                      - type
                      - api_params_s3_location
                      - api_params_s3_upload_url
                      - models
                    x-apifox-orders:
                      - id
                      - type
                      - api_params_s3_location
                      - api_params_s3_upload_url
                      - models
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - inference
                x-apifox-orders:
                  - statusCode
                  - inference
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    inference:
                      id: 11658c33-365d-4e2a-bfd8-18c5f41b1afe
                      type: txt2img
                      api_params_s3_location: 's3://******/txt2img/infer_v2/11658c33-365d-4e2a-bfd8-18c5f41b1afe/api_param.json'
                      api_params_s3_upload_url: 'https://******.s3.amazonaws.com/txt2img/infer_v2/11658c33-365d-4e2a-bfd8-18c5f41b1afe/api_param.json?AWSAccessKeyId=*************&Signature=2Z6gLOJSK3FOLYaTk%2BWoq7he0Nc%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDEaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAKIXJ0%2BJUZJLL1UMaICRuv3Z5GeuBF3LsaOjPcxOJeZwAiASWqMAlgLcN9lfVnqJCH5COrs%2BfsDcgLqH1vzCEjInsyqhAwia%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMSzCrDIE0onm6wwmgKvUCs27zMY2cqGfl8Uk%2BvtjylMTF4gsPon18JjZvWkpc6MMWPv%2FymZY%2FA%2BKKYVQr16rQfNFLJpYGRcau%2FmdiI9v9Cfh4CEvsXDrXTnsxYgxrPMWt9S4%2F92KIxlXFNFsM9h3iGTvnBwlRtIA4acndLUWCXasck5fgudU2sKA6joIvaqP0KV45v7oqXKlg3UiJCi5XDPJWey9SCiHNvaJA3KwpoMTHQpdlGL7V2GFNCf6BaqiL79vglQ8oy5THj%2Ba9bU5qh3LU1ed19J3aLN6ZHfKL0VWoa8e7EywreMn0gnP6%2B%2B%2BF%2BBFhzi8O1Gh7igUwE0btUR3mhJERZ%2FJ0K5Es82a5RZ%2B9K3ywacvHRykHtYbvQnM0ghuhxgKJmu3f8KCajsT4G11Spiooky4UNZ8J5zvEXDBfsqd24vO0utTpPQFM3ukwayveMuAWklG1%2Fbz01TiN8gUqHnLyu0unJuC%2FHhFIZGzn%2Fjrjgpm0T3pqtKCaZFUhIiFBRTCcuMSrBjqdAWfGWe5HO8QyKO%2F60NhFpNKNkW5lGV1DOe5WKLsC6orPKOVm5IqdqQmgBl53%2FhtXBRnPQsEmAjseAt2oEWJU6Pz11MzhYO8o92KgY5JNPB1L1sri26dvGiR%2BtKO64JZYV8n9DqDAzn8y6LQbipRLo5ptafk%2FF5bP8GJXa6IV7XdSXR0PnUFGSMQ3GFCPWsNTMo1TwvnHZ7zCndtSb7A%3D&Expires=1701915505'
                      models:
                        - id: d613760c-c8f7-466a-9838-cea3033bf57d
                          name:
                            - v1-5-pruned-emaonly.safetensors
                          type: Stable-diffusion
      security:
        - apikey-header-x-api-key: []
  '/inference/v2/{jobId}/run':
    put:
      summary: RunInferenceJob
      x-apifox-folder: Inference
      x-apifox-status: released
      deprecated: false
      description: Retrieves details of a specific inference job
      operationId: RunInferenceJob
      tags:
        - Inference
      parameters:
        - name: jobId
          in: path
          required: true
          description: Inference Job ID
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  inference:
                    type: object
                    properties:
                      inference_id:
                        type: string
                        description: Inference ID
                      status:
                        type: string
                        description: Status
                      endpoint_name:
                        type: string
                        description: Endpoint Name
                      output_path:
                        type: string
                        description: Output Path
                    required:
                      - inference_id
                      - status
                      - endpoint_name
                      - output_path
                    x-apifox-orders:
                      - inference_id
                      - status
                      - endpoint_name
                      - output_path
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - inference
                x-apifox-orders:
                  - statusCode
                  - inference
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    inference:
                      inference_id: 11658c33-365d-4e2a-bfd8-18c5f41b1afe
                      status: inprogress
                      endpoint_name: infer-endpoint-prod
                      output_path: 's3://******/sagemaker_output/25cd69fd-2ca6-4f37-87a5-aec2abfb9bf7.out'
      security:
        - apikey-header-x-api-key: []
  /inference/get-inference-job:
    get:
      summary: GetInferenceJob
      x-apifox-folder: Inference
      x-apifox-status: released
      deprecated: false
      description: Gets a specific endpoint deployment job
      operationId: GetInferenceJob
      tags:
        - Inference
      parameters:
        - name: jobID
          in: query
          description: ''
          required: true
          example: '{{jobId}}'
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InferenceJob'
              examples:
                '1':
                  summary: Success
                  value:
                    inference_info_name: /tmp/9f2cd35a-863a-41a0-bf92-ac663679b359_param.json
                    startTime: '2023-12-06 03:08:15.425023'
                    taskType: txt2img
                    completeTime: '2023-12-06 03:10:58.505490'
                    params:
                      input_body_presign_url: 'https://******.s3.amazonaws.com/txt2img/infer_v2/9f2cd35a-863a-41a0-bf92-ac663679b359/api_param.json?AWSAccessKeyId=*************&Signature=u45l877sA1DJ8Iik9U4lKHdUEFM%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEBsaDmFwLW5vcnRoZWFzdC0xIkcwRQIgEdw0ih1jTHpcslZN0EZJlMgAk1gRUiGkYoo3VgHs6p4CIQDzzCLD6%2B51Q8j221jpFukNSZjW1suMJ1B30l9XhP5m6SqhAwiE%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMfoNtrKq6pOec7FPpKvUCzCazPjsQ8YuiEIVht3Ju2JH7L6O1icdVYFpnqTGTFzPIJcfITqmWl5YCG8qwfVGkF8CcxIpGcf2qOFO6LQvIRWo8qfuojgkpmlxawsaxePc62RaNLOTnfHZ4Mpw5paJoli988Iyr%2Bss4UzsmWOd7eGdDtDTfCWAfZq5EaGOF%2Fsp61vKtvVDKTQ1BN4xRNsMaX4vdWmh2vU6KoSMBYSmGl8L5zNGZAYN2FqYqPTB0AR6pUxRz6MGgsmQ9Uxz8%2Fn3iVzQmh8H4iTHEjQvGXINN4R32JA8DLeOqsZIgLxKnJOxkAOxZ59rMoUzvGXEMY8nkAPzsScwrfE5FEKrgrihizBcqD86%2FtjfYTqbAU8kO%2FpMu9MArdq%2B7ELmThmI6ZAsg1F%2BYw6U2nsPA834TEhPxXcmUjWUWhBvA%2F62U4mFTo1z2fn8ESCsJcWet6RPdM%2FASZPSYEaQJo8ZsFiH1lPCuvUL%2Bx2dnfL04Eo9YQvGKLq%2BBtH%2BO6zDCyL%2BrBjqdAVLOcP%2BGhYZ0l2rx%2F18oaJ1pZK6E9WkiakijVeKkmYkmUJCFWI%2FBX4ujYSjjqKtxm2Gs7e3KJnuy82CIp90H7F25HyF2h1BhTBTF2aEnzfNvY3qGrZKH2yUvCleK1mDHJPaEN5FPEp6SX2sJl0MqUyNm3HUgbsxWMCQsYs4mfaJeDCJnyTPR0khwU0Dr4JdPU%2BtUdznlZZzjdxmRgsw%3D&Expires=1701835695'
                      used_models:
                        Stable-diffusion:
                          - s3: 's3://******/Stable-diffusion/checkpoint/custom/f8d9ca70-6957-4c44-92e2-90c0879db573'
                            id: f8d9ca70-6957-4c44-92e2-90c0879db573
                            model_name: sd_xl_base_1.0.safetensors
                            type: Stable-diffusion
                        Lora:
                          - s3: 's3://******/Lora/checkpoint/custom/4671872c-b12c-4d93-8f2b-ba6da94504a6'
                            id: 4671872c-b12c-4d93-8f2b-ba6da94504a6
                            model_name: lcm_lora_xl.safetensors
                            type: Lora
                      input_body_s3: 's3://******/txt2img/infer_v2/9f2cd35a-863a-41a0-bf92-ac663679b359/api_param.json'
                      output_path: 's3://******/sagemaker_output/3137d857-7970-4925-a6d6-9b03d41a95ac.out'
                      sagemaker_inference_endpoint_id: 7b59dd9c-a97c-4511-a2d8-49a8d60999af
                      sagemaker_inference_endpoint_name: infer-endpoint-prod
                    InferenceJobId: 9f2cd35a-863a-41a0-bf92-ac663679b359
                    status: succeed
                    sagemakerRaw: '{''awsRegion'': ''ap-northeast-1'', ''eventTime'': ''2023-12-06T03:10:57.63Z'', ''receivedTime'': ''2023-12-06T03:08:16.073Z'', ''invocationStatus'': ''Completed'', ''requestParameters'': {''accept'': ''*/*'', ''endpointName'': ''infer-endpoint-prod'', ''inputLocation'': ''s3://sagemaker-ap-northeast-1-448353841126/async-endpoint-inputs/infer-endpoint-prod-231206-0308/2023-12-06-03-08-15-814-f1a00a6b-083f-453c-8583-a2f2bcf67449''}, ''responseParameters'': {''contentType'': ''application/json'', ''outputLocation'': ''s3://******/sagemaker_output/3137d857-7970-4925-a6d6-9b03d41a95ac.out''}, ''inferenceId'': ''9f2cd35a-863a-41a0-bf92-ac663679b359'', ''eventVersion'': ''1.0'', ''eventSource'': ''aws:sagemaker'', ''eventName'': ''InferenceResult''}'
                    image_names:
                      - image_0.jpg
                    owner_group_or_role:
                      - admin
      security:
        - apikey-header-x-api-key: []
  /inference/query-inference-jobs:
    post:
      summary: QueryInferenceJobs
      x-apifox-folder: Inference
      x-apifox-status: released
      deprecated: false
      description: Query inference jobs
      operationId: QueryInferenceJobs
      tags:
        - Inference
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  description: Status
                task_type:
                  type: string
                  description: Task Type
                start_time:
                  type: string
                  description: Start Time
                end_time:
                  type: string
                  description: End Time
                endpoint:
                  type: string
                  description: Endpoint
                checkpoint:
                  type: string
                  description: Checkpoint
                limit:
                  type: integer
                  description: Size Limit
              required:
                - status
                - task_type
                - start_time
                - end_time
                - endpoint
                - checkpoint
                - limit
              x-apifox-orders:
                - status
                - task_type
                - start_time
                - end_time
                - endpoint
                - checkpoint
                - limit
              x-apifox-ignore-properties: []
            example:
              status: succeed
              task_type: txt2img
              start_time: '2023-12-06 02:48:59.871352'
              end_time: '2023-12-06 02:48:59.871352'
              endpoint: infer-endpoint-test
              checkpoint: sd_xl_base_1.0.safetensors
              limit: 1
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  inference:
                    $ref: '#/components/schemas/InferenceJob'
                required:
                  - statusCode
                  - inference
                x-apifox-orders:
                  - statusCode
                  - inference
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    inference:
                      id: 11658c33-365d-4e2a-bfd8-18c5f41b1afe
                      type: txt2img
                      api_params_s3_location: 's3://******/txt2img/infer_v2/11658c33-365d-4e2a-bfd8-18c5f41b1afe/api_param.json'
                      api_params_s3_upload_url: 'https://******.s3.amazonaws.com/txt2img/infer_v2/11658c33-365d-4e2a-bfd8-18c5f41b1afe/api_param.json?AWSAccessKeyId=*************&Signature=2Z6gLOJSK3FOLYaTk%2BWoq7he0Nc%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDEaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAKIXJ0%2BJUZJLL1UMaICRuv3Z5GeuBF3LsaOjPcxOJeZwAiASWqMAlgLcN9lfVnqJCH5COrs%2BfsDcgLqH1vzCEjInsyqhAwia%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMSzCrDIE0onm6wwmgKvUCs27zMY2cqGfl8Uk%2BvtjylMTF4gsPon18JjZvWkpc6MMWPv%2FymZY%2FA%2BKKYVQr16rQfNFLJpYGRcau%2FmdiI9v9Cfh4CEvsXDrXTnsxYgxrPMWt9S4%2F92KIxlXFNFsM9h3iGTvnBwlRtIA4acndLUWCXasck5fgudU2sKA6joIvaqP0KV45v7oqXKlg3UiJCi5XDPJWey9SCiHNvaJA3KwpoMTHQpdlGL7V2GFNCf6BaqiL79vglQ8oy5THj%2Ba9bU5qh3LU1ed19J3aLN6ZHfKL0VWoa8e7EywreMn0gnP6%2B%2B%2BF%2BBFhzi8O1Gh7igUwE0btUR3mhJERZ%2FJ0K5Es82a5RZ%2B9K3ywacvHRykHtYbvQnM0ghuhxgKJmu3f8KCajsT4G11Spiooky4UNZ8J5zvEXDBfsqd24vO0utTpPQFM3ukwayveMuAWklG1%2Fbz01TiN8gUqHnLyu0unJuC%2FHhFIZGzn%2Fjrjgpm0T3pqtKCaZFUhIiFBRTCcuMSrBjqdAWfGWe5HO8QyKO%2F60NhFpNKNkW5lGV1DOe5WKLsC6orPKOVm5IqdqQmgBl53%2FhtXBRnPQsEmAjseAt2oEWJU6Pz11MzhYO8o92KgY5JNPB1L1sri26dvGiR%2BtKO64JZYV8n9DqDAzn8y6LQbipRLo5ptafk%2FF5bP8GJXa6IV7XdSXR0PnUFGSMQ3GFCPWsNTMo1TwvnHZ7zCndtSb7A%3D&Expires=1701915505'
                      models:
                        - id: d613760c-c8f7-466a-9838-cea3033bf57d
                          name:
                            - v1-5-pruned-emaonly.safetensors
                          type: Stable-diffusion
      security:
        - apikey-header-x-api-key: []
  /inferences:
    get:
      summary: ListInferenceJobs
      x-apifox-folder: Inference
      x-apifox-status: released
      deprecated: false
      description: List all inference jobs
      operationId: ListInferenceJobs
      tags:
        - Inference
      parameters: []
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InferenceJob'
              examples:
                '1':
                  summary: Success
                  value:
                    - inference_info_name: /tmp/afcd1ac0-2c9b-4388-8037-999c61ceeb60_param.json
                      startTime: '2023-12-06 02:48:59.871352'
                      taskType: txt2img
                      completeTime: '2023-12-06 02:50:56.892791'
                      params:
                        input_body_presign_url: 'https://******.s3.amazonaws.com/txt2img/infer_v2/afcd1ac0-2c9b-4388-8037-999c61ceeb60/api_param.json?AWSAccessKeyId=*************&Signature=dSX70NLKhNEancWESHbVqP4KgH0%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEBoaDmFwLW5vcnRoZWFzdC0xIkcwRQIgdYbhBnO9S7Ff73QPS30N8TrzwkX5Of0xwWxHRxU4fkUCIQD9A%2Blmuus2mKbbROfn07Q8mf%2F1Xwbk3QDWn3oukWS7gCqhAwiE%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMjG0UydooEla1InNAKvUCx0QzLKZDKhG85YHSpXCR7LYIMWXirkek289pZ0jjQH9rLZl0lPfY6I75LTwiSvIEzO1pTfDG39X%2BxqEta8TprG6vm0E4DZjwlRTgHZm1WAx57COaKT5D6DDi8%2F9IpmvtBBeInnSdGdCnAcRG7ReHggyq48Ymin90WqNoGT4nRZn%2F9k4DFDUKzm%2BWT9ZfK3mpa0iFg49ecsZgdNNvKnGDeJdJrAt9BXzmAlfegHM2zR32f0Q%2FlqlOzVewktsVmE%2Fw8l85DnyQ5fXtpCoF5OdVI0xjdpjwO57SvkTcdL9fHu80J3ouihaibOJIwDbSDpA%2FhTvCgy1UxJEHSfN%2FhtAE6wuoB7GG%2BAp1XCD7deUze%2F7pHPzQ29LnIg50NR%2BfNj2U7Gzd7xu880SOZwcHpzYgOhk4qeaHMTwsp0J7tunHB5aF5s5qxKTy%2BaKNq44I%2FtAo0mMmNZ0Hs3h2sAbw6iROhHx%2FIavlxkeIE1nHG40WKkpmZJz85TCYub%2BrBjqdAdItijZn1I2K%2BwDzMLRX6Zfsmzsyo8O8iNsylbkEeUjTOyErvJrfXWvUgABx0iya7NJ1N5PxYPWTFj3VgbC5zBnlLj6o5NAdSekWt0e9J8Xh3c6XiGq2qAqpN2OLBl3nGPNUv2mAyPyd9XjQXWRu%2FpxdsYetLMNqbyfT0uRQ2t6uLjTif%2FAUE6EiOWgy4gudGcxyaBgqjWLJkw31rls%3D&Expires=1701834539'
                        used_models:
                          Stable-diffusion:
                            - s3: 's3://******/Stable-diffusion/checkpoint/custom/f8d9ca70-6957-4c44-92e2-90c0879db573'
                              id: f8d9ca70-6957-4c44-92e2-90c0879db573
                              model_name: sd_xl_base_1.0.safetensors
                              type: Stable-diffusion
                          Lora:
                            - s3: 's3://******/Lora/checkpoint/custom/4671872c-b12c-4d93-8f2b-ba6da94504a6'
                              id: 4671872c-b12c-4d93-8f2b-ba6da94504a6
                              model_name: lcm_lora_xl.safetensors
                              type: Lora
                        input_body_s3: 's3://******/txt2img/infer_v2/afcd1ac0-2c9b-4388-8037-999c61ceeb60/api_param.json'
                        output_path: 's3://******/sagemaker_output/145e4fe7-9733-418a-8858-5318ab5597f6.out'
                        sagemaker_inference_endpoint_id: 7b59dd9c-a97c-4511-a2d8-49a8d60999af
                        sagemaker_inference_endpoint_name: infer-endpoint-prod
                      InferenceJobId: afcd1ac0-2c9b-4388-8037-999c61ceeb60
                      status: succeed
                      sagemakerRaw: '{''awsRegion'': ''ap-northeast-1'', ''eventTime'': ''2023-12-06T02:50:56.034Z'', ''receivedTime'': ''2023-12-06T02:49:00.543Z'', ''invocationStatus'': ''Completed'', ''requestParameters'': {''accept'': ''*/*'', ''endpointName'': ''infer-endpoint-prod'', ''inputLocation'': ''s3://sagemaker-ap-northeast-1-448353841126/async-endpoint-inputs/infer-endpoint-prod-231206-0249/2023-12-06-02-49-00-123-c5dd4981-d00f-4795-b73e-ae863152adb2''}, ''responseParameters'': {''contentType'': ''application/json'', ''outputLocation'': ''s3://******/sagemaker_output/145e4fe7-9733-418a-8858-5318ab5597f6.out''}, ''inferenceId'': ''afcd1ac0-2c9b-4388-8037-999c61ceeb60'', ''eventVersion'': ''1.0'', ''eventSource'': ''aws:sagemaker'', ''eventName'': ''InferenceResult''}'
                      image_names:
                        - image_0.jpg
                      owner_group_or_role:
                        - admin
      security:
        - apikey-header-x-api-key: []
  /dataset:
    post:
      summary: CreateDataset
      x-apifox-folder: Dataset
      x-apifox-status: released
      deprecated: false
      description: |-
        Create a dataset 
         When you got response, you have to upload your image to the s3 presign url in `s3PresignUrl`
      operationId: CreateDataset
      tags:
        - Dataset
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                dataset_name:
                  type: string
                  description: Dataset Name
                creator:
                  type: string
                  description: User Name
                content:
                  type: array
                  items:
                    type: object
                    properties:
                      filename:
                        type: string
                      name:
                        type: string
                      type:
                        type: string
                      params:
                        type: object
                        properties: {}
                        x-apifox-orders: []
                        x-apifox-ignore-properties: []
                    x-apifox-orders:
                      - filename
                      - name
                      - type
                      - params
                    x-apifox-ignore-properties: []
                  description: Content
                params:
                  type: object
                  properties:
                    description:
                      type: string
                      description: Description
                  required:
                    - description
                  x-apifox-orders:
                    - description
                  x-apifox-ignore-properties: []
              required:
                - dataset_name
                - creator
                - content
                - params
              x-apifox-orders:
                - dataset_name
                - creator
                - content
                - params
              x-apifox-ignore-properties: []
            example:
              dataset_name: dataset_name
              creator: admin
              content:
                - filename: test.jpeg
                  name: test.jpeg
                  type: image
                  params: {}
              params:
                description: this is description
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  datasetName:
                    type: string
                    description: Dataset Name
                  s3PresignUrl:
                    type: object
                    properties:
                      set1.jpeg:
                        type: string
                    required:
                      - set1.jpeg
                    x-apifox-orders:
                      - set1.jpeg
                    description: S3 Presign URL
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - datasetName
                  - s3PresignUrl
                x-apifox-orders:
                  - statusCode
                  - datasetName
                  - s3PresignUrl
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    datasetName: dataset_name
                    s3PresignUrl:
                      set1.jpeg: 'https://******.s3.amazonaws.com/dataset/dataset_name/set1.jpeg?AWSAccessKeyId=*************&Signature=rCDtuEuCZMTp9s%2B5TFPLFaGO2ps%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAI4xLCFevMT7qk3Yg%2FMH1YJ74ylxjmzMnhbCWFR0erf9AiBIn3duIL%2Bg1xwJrnhUexu6nA0F2TyRmNuttyIh4nPwhiqZAwib%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMBSJ%2FsCwP96Xzl%2B%2FQKu0C%2BaUSm2Z7YG7yKo0hAFxyaq3a4r20KX%2Fg5Oh0q7gWaEiH99lPLSCRuESQ78IVxfTLQz3A7OuFvWqT08sZuZf0Qm9YDG%2BE4cMVp%2FBeN8LoDePuFeUJqputPgsANaF0Hk%2FWecBlDkm2zRXEYsf7D8XUsS86VV1MnUf51%2FtU6uvz1cK7kvlblX3Uo1RhCbdpSvI2kweYjg0JlKnCqxeHQuz0I8u47xKqJHtZeimI5VuwBwOhcpwAn7AHFpr%2BWK19VGfOX7eNADy%2FstHwLSlNL9bRdpU7TTuKGkyCgrSazvHnK6bVZWr1VGzacZ5nGhp6B5e8wxOcSU3wiKvjwznlSt6rs0LEhVmTuNmEpVpEhIv5v1e3hu4IoTKr7GgbSSGXc1KFv2S9jTq%2BVyKtVQGP2%2FJ80f%2BgQN2I1%2B3lVKY1ta5vnuAzY%2FbUvfmyqpIHzBTqR%2Bl9Cjkv3mB0N5ch%2BcUIclnuAE34aKgYuuGFHf7hxf0wgcrEqwY6nQGU6vUMY4oRDMNcQj4H%2BwYrBYz8iQOBCh6HPd%2BSPKQLUmz%2BkP830m4MbfJdU5HPvsCrwdqX3DTdSXAaMpSoqOu7xsayw8WeccIodI%2BkVTq6szwger6bJWjYMuBzGhwRG4lCC7R2xZxci9qJ64HIGW6hTuWp%2FC%2BtPjUInNISj5Yz1quv2dphE0WX14JIGadp1nX3tlriCPB16cpuLvqg&Expires=1702518724'
      security:
        - apikey-header-x-api-key: []
    put:
      summary: UpdateDataset
      x-apifox-folder: Dataset
      x-apifox-status: released
      deprecated: false
      description: Update a dataset
      operationId: UpdateDataset
      tags:
        - Dataset
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                dataset_name:
                  type: string
                  description: Dataset Name
                status:
                  type: string
                  description: Status
              required:
                - dataset_name
                - status
              x-apifox-orders:
                - dataset_name
                - status
              x-apifox-ignore-properties: []
            example:
              dataset_name: dataset_name
              status: Enabled
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    description: Status Code
                  datasetName:
                    type: string
                    description: Dataset Name
                  status:
                    type: string
                    description: Status
                required:
                  - statusCode
                  - datasetName
                  - status
                x-apifox-orders:
                  - statusCode
                  - datasetName
                  - status
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    datasetName: dataset_name
                    status: Enabled
      security:
        - apikey-header-x-api-key: []
  '/dataset/{datasetName}/data':
    get:
      summary: GetDataset
      x-apifox-folder: Dataset
      x-apifox-status: released
      deprecated: false
      description: Get a dataset detail
      operationId: GetDataset
      tags:
        - Dataset
      parameters:
        - name: datasetName
          in: path
          required: true
          description: Dataset Name
          schema:
            type: string
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  dataset_name:
                    type: string
                  datasetName:
                    type: string
                  s3:
                    type: string
                  status:
                    type: string
                  timestamp:
                    type: number
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                        name:
                          type: string
                        type:
                          type: string
                        preview_url:
                          type: string
                        dataStatus:
                          type: string
                        original_file_name:
                          type: string
                      required:
                        - key
                        - name
                        - type
                        - preview_url
                        - dataStatus
                        - original_file_name
                      x-apifox-orders:
                        - key
                        - name
                        - type
                        - preview_url
                        - dataStatus
                        - original_file_name
                      x-apifox-ignore-properties: []
                  description:
                    type: string
                required:
                  - statusCode
                  - dataset_name
                  - datasetName
                  - s3
                  - status
                  - timestamp
                  - data
                  - description
                x-apifox-orders:
                  - statusCode
                  - dataset_name
                  - datasetName
                  - s3
                  - status
                  - timestamp
                  - data
                  - description
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    dataset_name: dataset_name
                    datasetName: dataset_name
                    s3: 's3://******/dataset/dataset_name'
                    status: Initialed
                    timestamp: 1701913924.960641
                    data:
                      - key: 1701913859.447984_test.jpeg
                        name: test.jpeg
                        type: image
                        preview_url: 'https://******.s3.amazonaws.com/dataset/dataset_name/test.jpeg?AWSAccessKeyId=*************&Signature=v7X9mdbkWuZ%2FkD6m1p2oGiBWH3E%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAP49K66Rc%2BNmK4nOxzYoG8SGdC1e%2FKm%2FJQNnc2XjpJUWAiBGgFgeZ7QkgAi167yvkXsk4FVvI1TB5HlIgBoJtpPrZiqdAwib%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMda6YA3MSw6jbieWaKvECtVMj8p3AleWRsZpIbYXYRrFPv221VEx98%2F2s2633FUyWjjm9ADgZmKPR3cZOpVoDfGDWKBIBrxCNkLsYorXHj1TIb1Sv7zduDwKvy0f2MaicuKyxyiZk8JXz0jngftAfCXiH0UbWKb%2F%2FflrzLLFM0ruJEdPlRCn%2F4kDiR5DtvEDPSsqWhwISYO%2F9%2FWorTeMqJXrSgWImRfIrYuDG0Hdjquf3Ro81UH3wUG%2F8PGZKiM13qtQPsAWbT9gEDrPDxEXtCyBpClVYci5UY%2FHUTYhZoPDbLYWIqLaWj%2BZUWjlhJLgPEUKvMDyVLmsJACr83JHfaEGZMVYbEuGWepES8pOSQffOh1LbVk2XKwqoCpAai07AKO3diLY2X1YooEDFZtxa2MbEyT6y5HAov4H3TiXgGH8%2BqmYP5MOBUjyV6ZrwV0hRLWAllwd%2Fc3aM2kuW8uuZwfYcmDmR8aWnd005ihylTQ5nAP90wKb%2FG1oxEnxygCZ5MI7OxKsGOp0Bl8PWOXidfFjM7GiSXWr7qJzTKt9%2BPOpGjC8CMdFTd530bFeQhXJrQhrbrbk0rEoNr5kF7%2F5Jixvt0f3gThNGQrBh8NlYOHUvl9TXmRaEFKy8xj9zo4Q4RlQJ5WI6EYfkRf0QRmqiYjv3I9Ql46LmF9auEGXKHjE8h6Vs5hyGnSAPPkwe%2FB1nQSKmIJT7uXp8jE5zueCLrLlYrvePlw%3D%3D&Expires=1702000784'
                        dataStatus: Initialed
                        original_file_name: test.jpeg
                      - key: 1701913914.319977_set1.jpeg
                        name: set1.jpeg
                        type: image
                        preview_url: 'https://******.s3.amazonaws.com/dataset/dataset_name/set1.jpeg?AWSAccessKeyId=*************&Signature=asjZBpmZ0ios64bjD2fIbpokubU%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAP49K66Rc%2BNmK4nOxzYoG8SGdC1e%2FKm%2FJQNnc2XjpJUWAiBGgFgeZ7QkgAi167yvkXsk4FVvI1TB5HlIgBoJtpPrZiqdAwib%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMda6YA3MSw6jbieWaKvECtVMj8p3AleWRsZpIbYXYRrFPv221VEx98%2F2s2633FUyWjjm9ADgZmKPR3cZOpVoDfGDWKBIBrxCNkLsYorXHj1TIb1Sv7zduDwKvy0f2MaicuKyxyiZk8JXz0jngftAfCXiH0UbWKb%2F%2FflrzLLFM0ruJEdPlRCn%2F4kDiR5DtvEDPSsqWhwISYO%2F9%2FWorTeMqJXrSgWImRfIrYuDG0Hdjquf3Ro81UH3wUG%2F8PGZKiM13qtQPsAWbT9gEDrPDxEXtCyBpClVYci5UY%2FHUTYhZoPDbLYWIqLaWj%2BZUWjlhJLgPEUKvMDyVLmsJACr83JHfaEGZMVYbEuGWepES8pOSQffOh1LbVk2XKwqoCpAai07AKO3diLY2X1YooEDFZtxa2MbEyT6y5HAov4H3TiXgGH8%2BqmYP5MOBUjyV6ZrwV0hRLWAllwd%2Fc3aM2kuW8uuZwfYcmDmR8aWnd005ihylTQ5nAP90wKb%2FG1oxEnxygCZ5MI7OxKsGOp0Bl8PWOXidfFjM7GiSXWr7qJzTKt9%2BPOpGjC8CMdFTd530bFeQhXJrQhrbrbk0rEoNr5kF7%2F5Jixvt0f3gThNGQrBh8NlYOHUvl9TXmRaEFKy8xj9zo4Q4RlQJ5WI6EYfkRf0QRmqiYjv3I9Ql46LmF9auEGXKHjE8h6Vs5hyGnSAPPkwe%2FB1nQSKmIJT7uXp8jE5zueCLrLlYrvePlw%3D%3D&Expires=1702000784'
                        dataStatus: Initialed
                        original_file_name: set1.jpeg
                      - key: 1701913924.960641_set1.jpeg
                        name: set1.jpeg
                        type: image
                        preview_url: 'https://******.s3.amazonaws.com/dataset/dataset_name/set1.jpeg?AWSAccessKeyId=*************&Signature=asjZBpmZ0ios64bjD2fIbpokubU%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAP49K66Rc%2BNmK4nOxzYoG8SGdC1e%2FKm%2FJQNnc2XjpJUWAiBGgFgeZ7QkgAi167yvkXsk4FVvI1TB5HlIgBoJtpPrZiqdAwib%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIMda6YA3MSw6jbieWaKvECtVMj8p3AleWRsZpIbYXYRrFPv221VEx98%2F2s2633FUyWjjm9ADgZmKPR3cZOpVoDfGDWKBIBrxCNkLsYorXHj1TIb1Sv7zduDwKvy0f2MaicuKyxyiZk8JXz0jngftAfCXiH0UbWKb%2F%2FflrzLLFM0ruJEdPlRCn%2F4kDiR5DtvEDPSsqWhwISYO%2F9%2FWorTeMqJXrSgWImRfIrYuDG0Hdjquf3Ro81UH3wUG%2F8PGZKiM13qtQPsAWbT9gEDrPDxEXtCyBpClVYci5UY%2FHUTYhZoPDbLYWIqLaWj%2BZUWjlhJLgPEUKvMDyVLmsJACr83JHfaEGZMVYbEuGWepES8pOSQffOh1LbVk2XKwqoCpAai07AKO3diLY2X1YooEDFZtxa2MbEyT6y5HAov4H3TiXgGH8%2BqmYP5MOBUjyV6ZrwV0hRLWAllwd%2Fc3aM2kuW8uuZwfYcmDmR8aWnd005ihylTQ5nAP90wKb%2FG1oxEnxygCZ5MI7OxKsGOp0Bl8PWOXidfFjM7GiSXWr7qJzTKt9%2BPOpGjC8CMdFTd530bFeQhXJrQhrbrbk0rEoNr5kF7%2F5Jixvt0f3gThNGQrBh8NlYOHUvl9TXmRaEFKy8xj9zo4Q4RlQJ5WI6EYfkRf0QRmqiYjv3I9Ql46LmF9auEGXKHjE8h6Vs5hyGnSAPPkwe%2FB1nQSKmIJT7uXp8jE5zueCLrLlYrvePlw%3D%3D&Expires=1702000784'
                        dataStatus: Initialed
                        original_file_name: set1.jpeg
                    description: this is description
      security:
        - apikey-header-x-api-key: []
  /datasets:
    get:
      summary: ListDatasets
      x-apifox-folder: Dataset
      x-apifox-status: released
      deprecated: false
      description: 'List all datasets '
      operationId: ListDatasets
      tags:
        - Dataset
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  datasets:
                    type: array
                    items:
                      type: object
                      properties:
                        datasetName:
                          type: string
                        s3:
                          type: string
                        status:
                          type: string
                        timestamp:
                          type: number
                        description:
                          type: string
                      x-apifox-orders:
                        - datasetName
                        - s3
                        - status
                        - timestamp
                        - description
                      required:
                        - datasetName
                        - s3
                        - status
                        - timestamp
                        - description
                      x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - datasets
                x-apifox-orders:
                  - statusCode
                  - datasets
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    datasets:
                      - datasetName: huahua
                        s3: 's3://******/dataset/huahua'
                        status: Enabled
                        timestamp: 1700991091.925103
                        description: this is description
                      - datasetName: dataset_name
                        s3: 's3://******/dataset/dataset_name'
                        status: Initialed
                        timestamp: 1701913924.960641
                        description: this is description
      security:
        - apikey-header-x-api-key: []
  /model:
    post:
      summary: CreateModel
      x-apifox-folder: Model
      x-apifox-status: released
      deprecated: false
      description: Creates a new model
      operationId: CreateModel
      tags:
        - Model
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                model_type:
                  type: string
                name:
                  type: string
                creator:
                  type: string
                filenames:
                  type: array
                  items:
                    type: object
                    properties:
                      filename:
                        type: string
                      parts_number:
                        type: integer
                    x-apifox-orders:
                      - filename
                      - parts_number
                    x-apifox-ignore-properties: []
                params:
                  type: object
                  properties:
                    create_model_params:
                      type: object
                      properties:
                        new_model_name:
                          type: string
                        ckpt_path:
                          type: string
                        shared_src:
                          type: string
                        from_hub:
                          type: boolean
                        new_model_url:
                          type: string
                        new_model_token:
                          type: string
                        extract_ema:
                          type: boolean
                        train_unfrozen:
                          type: boolean
                        is_512:
                          type: boolean
                      required:
                        - new_model_name
                        - ckpt_path
                        - shared_src
                        - from_hub
                        - new_model_url
                        - new_model_token
                        - extract_ema
                        - train_unfrozen
                        - is_512
                      x-apifox-orders:
                        - new_model_name
                        - ckpt_path
                        - shared_src
                        - from_hub
                        - new_model_url
                        - new_model_token
                        - extract_ema
                        - train_unfrozen
                        - is_512
                      x-apifox-ignore-properties: []
                  required:
                    - create_model_params
                  x-apifox-orders:
                    - create_model_params
                  x-apifox-ignore-properties: []
              required:
                - model_type
                - name
                - filenames
                - params
              x-apifox-orders:
                - model_type
                - name
                - filenames
                - params
              x-apifox-ignore-properties: []
            example:
              model_type: Stable-diffusion
              name: test
              creator: admin
              filenames:
                - filename: v1-5-pruned-emaonly.safetensors
                  parts_number: 5
              params:
                create_model_params:
                  new_model_name: test
                  ckpt_path: v1-5-pruned-emaonly.safetensors
                  shared_src: ''
                  from_hub: false
                  new_model_url: ''
                  new_model_token: ''
                  extract_ema: false
                  train_unfrozen: false
                  is_512: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  job:
                    type: object
                    properties:
                      id:
                        type: string
                      status:
                        type: string
                      s3_base:
                        type: string
                      model_type:
                        type: string
                      params:
                        type: object
                        properties:
                          create_model_params:
                            type: object
                            properties:
                              new_model_name:
                                type: string
                              ckpt_path:
                                type: string
                              shared_src:
                                type: string
                              from_hub:
                                type: boolean
                              new_model_url:
                                type: string
                              new_model_token:
                                type: string
                              extract_ema:
                                type: boolean
                              train_unfrozen:
                                type: boolean
                              is_512:
                                type: boolean
                            required:
                              - new_model_name
                              - ckpt_path
                              - shared_src
                              - from_hub
                              - new_model_url
                              - new_model_token
                              - extract_ema
                              - train_unfrozen
                              - is_512
                            x-apifox-orders:
                              - new_model_name
                              - ckpt_path
                              - shared_src
                              - from_hub
                              - new_model_url
                              - new_model_token
                              - extract_ema
                              - train_unfrozen
                              - is_512
                            x-apifox-ignore-properties: []
                        required:
                          - create_model_params
                        x-apifox-orders:
                          - create_model_params
                        x-apifox-ignore-properties: []
                    required:
                      - id
                      - status
                      - s3_base
                      - model_type
                      - params
                    x-apifox-orders:
                      - id
                      - status
                      - s3_base
                      - model_type
                      - params
                    x-apifox-ignore-properties: []
                  s3PresignUrl:
                    type: object
                    properties:
                      v1-5-pruned-emaonly.safetensors:
                        type: array
                        items:
                          type: string
                    required:
                      - v1-5-pruned-emaonly.safetensors
                    x-apifox-orders:
                      - v1-5-pruned-emaonly.safetensors
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - job
                  - s3PresignUrl
                x-apifox-orders:
                  - statusCode
                  - job
                  - s3PresignUrl
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    job:
                      id: 3dc5bb66-647d-4b2f-9e90-7b1367b0eb28
                      status: Initial
                      s3_base: 's3://******/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28'
                      model_type: Stable-diffusion
                      params:
                        create_model_params:
                          new_model_name: test
                          ckpt_path: v1-5-pruned-emaonly.safetensors
                          shared_src: ''
                          from_hub: false
                          new_model_url: ''
                          new_model_token: ''
                          extract_ema: false
                          train_unfrozen: false
                          is_512: true
                    s3PresignUrl:
                      v1-5-pruned-emaonly.safetensors:
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28/v1-5-pruned-emaonly.safetensors?uploadId=ICrcJQm2Yq6leEsEzaslSHSRUfNnYIfMAhFP.38yXQbrJzeUJ081Y4t9XpmtH1Bn44buB7LeinLzz._I6md__zPDah0wdMjImOULp7yFVkVg8TJueqGH1eVgpczJ_y_kR9bY.NKG8uoif_QFiwh1wsKNfpxe5t7u3cNkC2C5mek-&partNumber=1&AWSAccessKeyId=*************&Signature=V0gs%2BH58Mbw8QdXfw159o0EnlE4%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkgwRgIhANxQRaX6mTWfibszSlmu3Eel8R8Up66e%2BUgLWbM3UxApAiEAvyp%2FMhRuhoo2KTfODtuX65nk3r7%2B05sKX2rCTBEBTHEqkwMIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDJ4caIrBV728MlZMeCrnAvtQs4UMTZPr91e2bZVZHH%2FGLgnz1qQRAldS1BbbR8L7qZcV%2BNL60doZVjmsRpN0wK2XPSrWM0UoR1QHQ6JlL5%2BSa6t%2FRqa0Avyk6%2BAF%2BQKNhUaYwc3bHiWPNZTQCx%2BbFk%2Fj4PDojeXT5OMJhNPOEGkCIwl2WzyZDjoTKlegAZCg0oVNxl%2BM0UJ0Xa1r1rTHW3CStkXVHDeTj%2B%2FSOtqoypJ0FQFECwqZBxP8buu3T4wQKGgoWqmzIw%2BSkfaR3pED06zgxzmAw5cjpdiWdbg0S4X9l4%2BDiIySW%2BK94pvbX5cp4%2B1LgJwJ7MGLxAB36TCnujokf8c4NxpLXAtaujBeCSErZ%2FMh3L4V09xIE%2F8kNS4WGpToDFgMt%2Bu0St%2BOmSUyoZDgDVny7dysAKDyzdxxr2FjtHFn553LK0mkBMMnp9QwG8SFLAJ4rm2wlJgzeaOFLL0yohC%2BcUktnMTaUSHTFb2UkwGjn1sIMNTRxKsGOpwBPrea6s7OBtxi%2BCdsXSE%2Fy0ygaQ8fzEWoWAutybBYgtgOIXVxsdYC8TdBjzQfL5YNgF83t4UceUctANPzdR2yWd46jWkPv66mYhCFzDmaLLzKeYkKkzqboKEs15wIQmsjEo1c5VFJyI4HRaiMi7VkK6Rdz3JbMrMWaf74o6in%2ByVJlq%2B%2FD6X0%2F6kUnFD2AMtZfFjYkHnLNUP5536r&Expires=1701918457'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28/v1-5-pruned-emaonly.safetensors?uploadId=ICrcJQm2Yq6leEsEzaslSHSRUfNnYIfMAhFP.38yXQbrJzeUJ081Y4t9XpmtH1Bn44buB7LeinLzz._I6md__zPDah0wdMjImOULp7yFVkVg8TJueqGH1eVgpczJ_y_kR9bY.NKG8uoif_QFiwh1wsKNfpxe5t7u3cNkC2C5mek-&partNumber=2&AWSAccessKeyId=*************&Signature=2xENREFivph7SUHdCse83YIX%2BVY%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkgwRgIhANxQRaX6mTWfibszSlmu3Eel8R8Up66e%2BUgLWbM3UxApAiEAvyp%2FMhRuhoo2KTfODtuX65nk3r7%2B05sKX2rCTBEBTHEqkwMIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDJ4caIrBV728MlZMeCrnAvtQs4UMTZPr91e2bZVZHH%2FGLgnz1qQRAldS1BbbR8L7qZcV%2BNL60doZVjmsRpN0wK2XPSrWM0UoR1QHQ6JlL5%2BSa6t%2FRqa0Avyk6%2BAF%2BQKNhUaYwc3bHiWPNZTQCx%2BbFk%2Fj4PDojeXT5OMJhNPOEGkCIwl2WzyZDjoTKlegAZCg0oVNxl%2BM0UJ0Xa1r1rTHW3CStkXVHDeTj%2B%2FSOtqoypJ0FQFECwqZBxP8buu3T4wQKGgoWqmzIw%2BSkfaR3pED06zgxzmAw5cjpdiWdbg0S4X9l4%2BDiIySW%2BK94pvbX5cp4%2B1LgJwJ7MGLxAB36TCnujokf8c4NxpLXAtaujBeCSErZ%2FMh3L4V09xIE%2F8kNS4WGpToDFgMt%2Bu0St%2BOmSUyoZDgDVny7dysAKDyzdxxr2FjtHFn553LK0mkBMMnp9QwG8SFLAJ4rm2wlJgzeaOFLL0yohC%2BcUktnMTaUSHTFb2UkwGjn1sIMNTRxKsGOpwBPrea6s7OBtxi%2BCdsXSE%2Fy0ygaQ8fzEWoWAutybBYgtgOIXVxsdYC8TdBjzQfL5YNgF83t4UceUctANPzdR2yWd46jWkPv66mYhCFzDmaLLzKeYkKkzqboKEs15wIQmsjEo1c5VFJyI4HRaiMi7VkK6Rdz3JbMrMWaf74o6in%2ByVJlq%2B%2FD6X0%2F6kUnFD2AMtZfFjYkHnLNUP5536r&Expires=1701918457'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28/v1-5-pruned-emaonly.safetensors?uploadId=ICrcJQm2Yq6leEsEzaslSHSRUfNnYIfMAhFP.38yXQbrJzeUJ081Y4t9XpmtH1Bn44buB7LeinLzz._I6md__zPDah0wdMjImOULp7yFVkVg8TJueqGH1eVgpczJ_y_kR9bY.NKG8uoif_QFiwh1wsKNfpxe5t7u3cNkC2C5mek-&partNumber=3&AWSAccessKeyId=*************&Signature=rGRsHvBqjXIJ0tWk2AyvTNL%2FkKs%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkgwRgIhANxQRaX6mTWfibszSlmu3Eel8R8Up66e%2BUgLWbM3UxApAiEAvyp%2FMhRuhoo2KTfODtuX65nk3r7%2B05sKX2rCTBEBTHEqkwMIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDJ4caIrBV728MlZMeCrnAvtQs4UMTZPr91e2bZVZHH%2FGLgnz1qQRAldS1BbbR8L7qZcV%2BNL60doZVjmsRpN0wK2XPSrWM0UoR1QHQ6JlL5%2BSa6t%2FRqa0Avyk6%2BAF%2BQKNhUaYwc3bHiWPNZTQCx%2BbFk%2Fj4PDojeXT5OMJhNPOEGkCIwl2WzyZDjoTKlegAZCg0oVNxl%2BM0UJ0Xa1r1rTHW3CStkXVHDeTj%2B%2FSOtqoypJ0FQFECwqZBxP8buu3T4wQKGgoWqmzIw%2BSkfaR3pED06zgxzmAw5cjpdiWdbg0S4X9l4%2BDiIySW%2BK94pvbX5cp4%2B1LgJwJ7MGLxAB36TCnujokf8c4NxpLXAtaujBeCSErZ%2FMh3L4V09xIE%2F8kNS4WGpToDFgMt%2Bu0St%2BOmSUyoZDgDVny7dysAKDyzdxxr2FjtHFn553LK0mkBMMnp9QwG8SFLAJ4rm2wlJgzeaOFLL0yohC%2BcUktnMTaUSHTFb2UkwGjn1sIMNTRxKsGOpwBPrea6s7OBtxi%2BCdsXSE%2Fy0ygaQ8fzEWoWAutybBYgtgOIXVxsdYC8TdBjzQfL5YNgF83t4UceUctANPzdR2yWd46jWkPv66mYhCFzDmaLLzKeYkKkzqboKEs15wIQmsjEo1c5VFJyI4HRaiMi7VkK6Rdz3JbMrMWaf74o6in%2ByVJlq%2B%2FD6X0%2F6kUnFD2AMtZfFjYkHnLNUP5536r&Expires=1701918457'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28/v1-5-pruned-emaonly.safetensors?uploadId=ICrcJQm2Yq6leEsEzaslSHSRUfNnYIfMAhFP.38yXQbrJzeUJ081Y4t9XpmtH1Bn44buB7LeinLzz._I6md__zPDah0wdMjImOULp7yFVkVg8TJueqGH1eVgpczJ_y_kR9bY.NKG8uoif_QFiwh1wsKNfpxe5t7u3cNkC2C5mek-&partNumber=4&AWSAccessKeyId=*************&Signature=9zN6g7dG6H3yv79X%2BpTjXqXVt%2Fw%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkgwRgIhANxQRaX6mTWfibszSlmu3Eel8R8Up66e%2BUgLWbM3UxApAiEAvyp%2FMhRuhoo2KTfODtuX65nk3r7%2B05sKX2rCTBEBTHEqkwMIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDJ4caIrBV728MlZMeCrnAvtQs4UMTZPr91e2bZVZHH%2FGLgnz1qQRAldS1BbbR8L7qZcV%2BNL60doZVjmsRpN0wK2XPSrWM0UoR1QHQ6JlL5%2BSa6t%2FRqa0Avyk6%2BAF%2BQKNhUaYwc3bHiWPNZTQCx%2BbFk%2Fj4PDojeXT5OMJhNPOEGkCIwl2WzyZDjoTKlegAZCg0oVNxl%2BM0UJ0Xa1r1rTHW3CStkXVHDeTj%2B%2FSOtqoypJ0FQFECwqZBxP8buu3T4wQKGgoWqmzIw%2BSkfaR3pED06zgxzmAw5cjpdiWdbg0S4X9l4%2BDiIySW%2BK94pvbX5cp4%2B1LgJwJ7MGLxAB36TCnujokf8c4NxpLXAtaujBeCSErZ%2FMh3L4V09xIE%2F8kNS4WGpToDFgMt%2Bu0St%2BOmSUyoZDgDVny7dysAKDyzdxxr2FjtHFn553LK0mkBMMnp9QwG8SFLAJ4rm2wlJgzeaOFLL0yohC%2BcUktnMTaUSHTFb2UkwGjn1sIMNTRxKsGOpwBPrea6s7OBtxi%2BCdsXSE%2Fy0ygaQ8fzEWoWAutybBYgtgOIXVxsdYC8TdBjzQfL5YNgF83t4UceUctANPzdR2yWd46jWkPv66mYhCFzDmaLLzKeYkKkzqboKEs15wIQmsjEo1c5VFJyI4HRaiMi7VkK6Rdz3JbMrMWaf74o6in%2ByVJlq%2B%2FD6X0%2F6kUnFD2AMtZfFjYkHnLNUP5536r&Expires=1701918457'
                        - 'https://******.s3.amazonaws.com/Stable-diffusion/checkpoint/test/3dc5bb66-647d-4b2f-9e90-7b1367b0eb28/v1-5-pruned-emaonly.safetensors?uploadId=ICrcJQm2Yq6leEsEzaslSHSRUfNnYIfMAhFP.38yXQbrJzeUJ081Y4t9XpmtH1Bn44buB7LeinLzz._I6md__zPDah0wdMjImOULp7yFVkVg8TJueqGH1eVgpczJ_y_kR9bY.NKG8uoif_QFiwh1wsKNfpxe5t7u3cNkC2C5mek-&partNumber=5&AWSAccessKeyId=*************&Signature=1U4Rk96byqOaHUT0xP5mSZTECJE%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDIaDmFwLW5vcnRoZWFzdC0xIkgwRgIhANxQRaX6mTWfibszSlmu3Eel8R8Up66e%2BUgLWbM3UxApAiEAvyp%2FMhRuhoo2KTfODtuX65nk3r7%2B05sKX2rCTBEBTHEqkwMIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARABGgw0NDgzNTM4NDExMjYiDJ4caIrBV728MlZMeCrnAvtQs4UMTZPr91e2bZVZHH%2FGLgnz1qQRAldS1BbbR8L7qZcV%2BNL60doZVjmsRpN0wK2XPSrWM0UoR1QHQ6JlL5%2BSa6t%2FRqa0Avyk6%2BAF%2BQKNhUaYwc3bHiWPNZTQCx%2BbFk%2Fj4PDojeXT5OMJhNPOEGkCIwl2WzyZDjoTKlegAZCg0oVNxl%2BM0UJ0Xa1r1rTHW3CStkXVHDeTj%2B%2FSOtqoypJ0FQFECwqZBxP8buu3T4wQKGgoWqmzIw%2BSkfaR3pED06zgxzmAw5cjpdiWdbg0S4X9l4%2BDiIySW%2BK94pvbX5cp4%2B1LgJwJ7MGLxAB36TCnujokf8c4NxpLXAtaujBeCSErZ%2FMh3L4V09xIE%2F8kNS4WGpToDFgMt%2Bu0St%2BOmSUyoZDgDVny7dysAKDyzdxxr2FjtHFn553LK0mkBMMnp9QwG8SFLAJ4rm2wlJgzeaOFLL0yohC%2BcUktnMTaUSHTFb2UkwGjn1sIMNTRxKsGOpwBPrea6s7OBtxi%2BCdsXSE%2Fy0ygaQ8fzEWoWAutybBYgtgOIXVxsdYC8TdBjzQfL5YNgF83t4UceUctANPzdR2yWd46jWkPv66mYhCFzDmaLLzKeYkKkzqboKEs15wIQmsjEo1c5VFJyI4HRaiMi7VkK6Rdz3JbMrMWaf74o6in%2ByVJlq%2B%2FD6X0%2F6kUnFD2AMtZfFjYkHnLNUP5536r&Expires=1701918457'
      security:
        - apikey-header-x-api-key: []
    put:
      summary: UpdateModel
      x-apifox-folder: Model
      x-apifox-status: released
      deprecated: false
      description: Upload the model
      operationId: GetModels
      tags:
        - Model
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                model_id:
                  type: string
                status:
                  type: string
                multi_parts_tags:
                  type: object
                  properties:
                    v1-5-pruned-emaonly.safetensors:
                      type: array
                      items:
                        type: object
                        properties:
                          ETag:
                            type: string
                          PartNumber:
                            type: integer
                        required:
                          - ETag
                          - PartNumber
                        x-apifox-orders:
                          - ETag
                          - PartNumber
                        x-apifox-ignore-properties: []
                  required:
                    - v1-5-pruned-emaonly.safetensors
                  x-apifox-orders:
                    - v1-5-pruned-emaonly.safetensors
                  x-apifox-ignore-properties: []
              required:
                - model_id
                - status
                - multi_parts_tags
              x-apifox-orders:
                - model_id
                - status
                - multi_parts_tags
              x-apifox-ignore-properties: []
            example:
              model_id: 721bf547-55db-4129-9571-37b123a2ea01
              status: Creating
              multi_parts_tags:
                v1-5-pruned-emaonly.safetensors:
                  - ETag: '"acc25d76080cfdb8dd48f4344f816312"'
                    PartNumber: 1
                  - ETag: '"01a458e7d019140cb792b577596b7918"'
                    PartNumber: 2
                  - ETag: '"296e59a1fb1ea02f6512c5b4c4565bea"'
                    PartNumber: 3
                  - ETag: '"9dd22961ddf32130a22b36dc53f93fd0"'
                    PartNumber: 4
                  - ETag: '"bfb91caed0e9f1aaaca7a0f125e7e96b"'
                    PartNumber: 5
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  models:
                    type: array
                    items:
                      $ref: '#/components/schemas/Model'
                  job:
                    type: object
                    properties:
                      output_path:
                        type: string
                      id:
                        type: string
                      endpointName:
                        type: string
                      jobStatus:
                        type: string
                      jobType:
                        type: string
                    required:
                      - output_path
                      - id
                      - endpointName
                      - jobStatus
                      - jobType
                    x-apifox-orders:
                      - output_path
                      - id
                      - endpointName
                      - jobStatus
                      - jobType
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - job
                  - models
                x-apifox-orders:
                  - statusCode
                  - models
                  - job
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    job:
                      output_path: 's3://******/models/c50cf6d4-626b-4edd-8f49-d5c77384f421.out'
                      id: 721bf547-55db-4129-9571-37b123a2ea01
                      endpointName: aigc-utils-endpoint
                      jobStatus: Creating
                      jobType: Stable-diffusion
      security:
        - apikey-header-x-api-key: []
  /models:
    get:
      summary: ListModels
      x-apifox-folder: Model
      x-apifox-status: released
      deprecated: false
      description: Lists all models
      operationId: ListModels
      tags:
        - Model
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  models:
                    type: array
                    items:
                      $ref: '#/components/schemas/Model'
                required:
                  - statusCode
                  - models
                x-apifox-orders:
                  - statusCode
                  - models
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    models:
                      - id: 09997e29-cac8-4e8e-86a6-853c05964ec0
                        model_name: test-model
                        created: 1700991530.702963
                        params:
                          create_model_params:
                            shared_src: ''
                            extract_ema: false
                            from_hub: false
                            new_model_name: test-model
                            ckpt_path: v1-5-pruned-emaonly.safetensors
                            train_unfrozen: false
                            new_model_url: ''
                            is_512: true
                            new_model_token: ''
                          resp:
                            config_dict:
                              lr_factor: 0.5
                              lora_weight: 1
                              epoch_pause_frequency: 0
                              lr_power: 1
                              model_path: ''
                              resolution: 512
                              save_lora_for_extra_net: true
                              num_train_epochs: 100
                              infer_ema: false
                              save_state_after: false
                              use_shared_src:
                                - false
                              has_ema: false
                              gradient_set_to_none: true
                              weight_decay: 0.01
                              save_ckpt_after: true
                              save_lora_cancel: false
                              save_lora_during: true
                              noise_scheduler: DDPM
                              prior_loss_weight: 0.75
                              save_embedding_every: 25
                              use_ema: true
                              lr_scheduler: constant_with_warmup
                              concepts_path: ''
                              hflip: false
                              stop_text_encoder: 1
                              train_imagic: false
                              snapshot: ''
                              cache_latents: true
                              lr_scale_pos: 0.5
                              deterministic: false
                              lifetime_revision: 0
                              use_concepts: false
                              epoch: 0
                              gradient_accumulation_steps: 1
                              mixed_precision: fp16
                              pretrained_model_name_or_path: /opt/ml/code/models/dreambooth/test-model/working
                              strict_tokens: false
                              lora_unet_rank: 4
                              save_safetensors: true
                              model_dir: /opt/ml/code/models/dreambooth/test-model
                              custom_model_name: ''
                              disable_logging: false
                              save_ckpt_cancel: false
                              gradient_checkpointing: true
                              prior_loss_weight_min: 0.1
                              freeze_clip_normalization: false
                              lr_warmup_steps: 0
                              lora_txt_weight: 1
                              pad_tokens: true
                              use_subdir: false
                              epoch_pause_time: 0
                              train_unet: true
                              lr_cycles: 1
                              v2: false
                              clip_skip: 1
                              txt_learning_rate: 0.000005
                              max_token_length: 75
                              concepts_list: []
                              save_ema: true
                              save_lora_after: true
                              tenc_grad_clip_norm: 0
                              split_loss: true
                              model_name: test-model
                              train_unfrozen: true
                              save_state_during: false
                              tomesd: 0
                              ema_predict: false
                              tenc_weight_decay: 0.01
                              revision: 0
                              train_batch_size: 1
                              shuffle_tags: true
                              save_state_cancel: false
                              use_lora: false
                              initial_revision: 0
                              offset_noise: 0
                              graph_smoothing: 50
                              dynamic_img_norm: false
                              scheduler: ddim
                              half_model: false
                              sample_batch_size: 1
                              sanity_seed: 420420
                              optimizer: 8bit AdamW
                              learning_rate_min: 0.000001
                              shared_diffusers_path: ''
                              lora_learning_rate: 0.0001
                              prior_loss_scale: false
                              prior_loss_target: 100
                              src: /opt/ml/code/models/Stable-diffusion/v1-5-pruned-emaonly.safetensors
                              pretrained_vae_name_or_path: ''
                              lora_txt_learning_rate: 0.00005
                              save_ckpt_during: true
                              use_lora_extended: false
                              save_preview_every: 5
                              attention: xformers
                              lora_model_name: ''
                              lora_txt_rank: 4
                              sanity_prompt: ''
                              learning_rate: 0.000005
                              lora_use_buggy_requires_grad: false
                              disable_class_matching: false
                            response:
                              - visible: true
                                choices:
                                  - ''
                                  - test-model
                                value: test-model
                                __type__: generic_update
                              - /opt/ml/code/models/dreambooth/test-model
                              - 0
                              - 0
                              - /opt/ml/code/models/Stable-diffusion/v1-5-pruned-emaonly.safetensors
                              - ''
                              - 'False'
                              - 'False'
                              - 512
                              - Checkpoint successfully extracted to /opt/ml/code/models/dreambooth/test-model/working
                            s3_output_location: '******/Stable-diffusion/test-model.tar'
                        status: Complete
                        output_s3_location: 's3://******/Stable-diffusion/model/test-model/09997e29-cac8-4e8e-86a6-853c05964ec0/output'
      security:
        - apikey-header-x-api-key: []
  /train:
    post:
      summary: CreateTrainJob
      x-apifox-folder: Train
      x-apifox-status: released
      deprecated: false
      description: |-
        Create a new train job
        When you got response, you have to upload your config file to `db_config.tar` presign url.
      operationId: CreateTrainJob
      tags:
        - Train
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                train_type:
                  type: string
                model_id:
                  type: string
                creator:
                  type: string
                filenames:
                  type: array
                  items:
                    type: string
                params:
                  type: object
                  properties:
                    training_params:
                      type: object
                      properties:
                        s3_model_path:
                          type: string
                        model_name:
                          type: string
                        model_type:
                          type: string
                        data_tar_list:
                          type: array
                          items:
                            type: string
                        class_data_tar_list:
                          type: array
                          items:
                            type: string
                        s3_data_path_list:
                          type: array
                          items:
                            type: string
                        s3_class_data_path_list:
                          type: array
                          items:
                            type: string
                        training_instance_type:
                          type: string
                      required:
                        - s3_model_path
                        - model_name
                        - model_type
                        - data_tar_list
                        - class_data_tar_list
                        - s3_data_path_list
                        - s3_class_data_path_list
                        - training_instance_type
                      x-apifox-orders:
                        - s3_model_path
                        - model_name
                        - model_type
                        - data_tar_list
                        - class_data_tar_list
                        - s3_data_path_list
                        - s3_class_data_path_list
                        - training_instance_type
                      x-apifox-ignore-properties: []
                  required:
                    - training_params
                  x-apifox-orders:
                    - training_params
                  x-apifox-ignore-properties: []
              required:
                - train_type
                - model_id
                - filenames
                - params
              x-apifox-orders:
                - train_type
                - model_id
                - filenames
                - params
              x-apifox-ignore-properties: []
            example:
              train_type: Stable-diffusion
              model_id: 6d04302b-3e94-478f-94d5-b3f0c1c21cee
              creator: admin
              filenames:
                - db_config.tar
              params:
                training_params:
                  s3_model_path: 's3://******/Stable-diffusion/model/test202311162301/6d04302b-3e94-478f-94d5-b3f0c1c21cee/output'
                  model_name: test202311162301
                  model_type: Stable-diffusion
                  data_tar_list:
                    - 's3://******/dataset/huahua'
                  class_data_tar_list:
                    - ''
                  s3_data_path_list:
                    - 's3://******/dataset/huahua'
                  s3_class_data_path_list:
                    - ''
                  training_instance_type: ml.g5.2xlarge
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  job:
                    type: object
                    properties:
                      id:
                        type: string
                      status:
                        type: string
                      trainType:
                        type: string
                      params:
                        type: object
                        properties:
                          training_params:
                            type: object
                            properties:
                              s3_model_path:
                                type: string
                              model_name:
                                type: string
                              model_type:
                                type: string
                              data_tar_list:
                                type: array
                                items:
                                  type: string
                              class_data_tar_list:
                                type: array
                                items:
                                  type: string
                              s3_data_path_list:
                                type: array
                                items:
                                  type: string
                              s3_class_data_path_list:
                                type: array
                                items:
                                  type: string
                              training_instance_type:
                                type: string
                            required:
                              - s3_model_path
                              - model_name
                              - model_type
                              - data_tar_list
                              - class_data_tar_list
                              - s3_data_path_list
                              - s3_class_data_path_list
                              - training_instance_type
                            x-apifox-orders:
                              - s3_model_path
                              - model_name
                              - model_type
                              - data_tar_list
                              - class_data_tar_list
                              - s3_data_path_list
                              - s3_class_data_path_list
                              - training_instance_type
                            x-apifox-ignore-properties: []
                        required:
                          - training_params
                        x-apifox-orders:
                          - training_params
                        x-apifox-ignore-properties: []
                      input_location:
                        type: string
                    required:
                      - id
                      - status
                      - trainType
                      - params
                      - input_location
                    x-apifox-orders:
                      - id
                      - status
                      - trainType
                      - params
                      - input_location
                    x-apifox-ignore-properties: []
                  s3PresignUrl:
                    type: object
                    properties:
                      db_config.tar:
                        type: string
                    required:
                      - db_config.tar
                    x-apifox-orders:
                      - db_config.tar
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - job
                  - s3PresignUrl
                x-apifox-orders:
                  - statusCode
                  - job
                  - s3PresignUrl
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    job:
                      id: 269727a1-01c1-43b7-b876-5a92cdffa5f2
                      status: Initial
                      trainType: Stable-diffusion
                      params:
                        training_params:
                          s3_model_path: 's3://******/Stable-diffusion/model/test202311162301/6d04302b-3e94-478f-94d5-b3f0c1c21cee/output'
                          model_name: test202311162301
                          model_type: Stable-diffusion
                          data_tar_list:
                            - 's3://******/dataset/huahua'
                          class_data_tar_list:
                            - ''
                          s3_data_path_list:
                            - 's3://******/dataset/huahua'
                          s3_class_data_path_list:
                            - ''
                          training_instance_type: ml.g5.2xlarge
                      input_location: 's3://******/Stable-diffusion/train/test-model/269727a1-01c1-43b7-b876-5a92cdffa5f2/input'
                    s3PresignUrl:
                      db_config.tar: 'https://******.s3.amazonaws.com/Stable-diffusion/train/test-model/269727a1-01c1-43b7-b876-5a92cdffa5f2/input/db_config.tar?AWSAccessKeyId=*************&Signature=V%2BMtQ2kjYwejHtARJj1PgJZgQxE%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDMaDmFwLW5vcnRoZWFzdC0xIkcwRQIhAOnhwMoRGQr%2FnvfHt4tcgUw%2FmWbEMVj5FKsPreDGVISbAiBz4Aa%2F9yUsawJnGEVq8XT%2FJPDGCYtfsjiPQDEUR97JKyqTAwic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAEaDDQ0ODM1Mzg0MTEyNiIM46HHqc5aTLkxMLklKucCz1tENBOR5nXlLxyIPm%2BnWgeQCxDONok%2F6%2FwdCo6gKzO48LB7YRSfcla2LDZ7hoKbvZp84IoguthcesXhWDOIDrM67NitkJfo%2BkRA%2FHaTg41nt%2FrsAq2CqXEmxAbU0TPbg66iPn3Dup%2Fejt28cYzWZyCCtedD1O4iDdhdxb%2BaxgRwTBlvUlbJZh8h5eRAmRfGX9RBts3Z3y8eLRUUeKD%2Fyy95GBx4gZXkIFpjU9FPus11wnh3ShhorbcnflkMho7gnhTliDPUCGs1yVRFWVKrrY0NPa8SVdfRabPCZ%2Fneile9vmzIrxWoKY%2F%2B%2BUDkEGAfE91%2BkAV9TiNV1SquPtUQiJLuhjvogc8VY6jpKaA%2BRnRk1Dfj9rkNKnqK%2B3ZngRr1We9wRd7aVmLZR3x5WVS32DmCYVSnqhMI12gI23jEyIzhTbHnw3NzusSYt2PjVlrTmkBDQrMpdhOb5ueTPx0H%2BrIwDDl8RGgw0ejEqwY6nQEybceG3TGz7j3Dh1VlTBRGWsMJeU8iZsIx79z6SAPdXmaBY1Ae9i%2BolCJEUq66IXw0jdoj5ff5TDZtp7xKkTToPqI7FZfsmosKgGSTLfZMId4yQ8h%2B0IH5IismMF%2FgMvr4nmB7WFJ3pVWRF7AwC0%2BTVsBokW9hcjan2JMY3FdyzQGbQlTKS8k0Ytv2HlOTKrxeD1PWhsMQMSCGO%2Bsc&Expires=1702522785'
      security:
        - apikey-header-x-api-key: []
    put:
      summary: UpdateTrainJob
      x-apifox-folder: Train
      x-apifox-status: released
      deprecated: false
      description: Update a train job
      operationId: UpdateTrainJob
      tags:
        - Train
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                train_job_id:
                  type: string
                status:
                  type: string
              required:
                - train_job_id
                - status
              x-apifox-orders:
                - train_job_id
                - status
              x-apifox-ignore-properties: []
            example:
              train_job_id: d32ed7ec-7924-4c9c-b921-5d3a72d6cadd
              status: Training
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  job:
                    type: object
                    properties:
                      id:
                        type: string
                      status:
                        type: string
                      created:
                        type: number
                      trainType:
                        type: string
                      params:
                        type: object
                        properties:
                          training_params:
                            type: object
                            properties:
                              s3_class_data_path_list:
                                type: array
                                items:
                                  type: string
                              class_data_tar_list:
                                type: array
                                items:
                                  type: string
                              model_name:
                                type: string
                              s3_data_path_list:
                                type: array
                                items:
                                  type: string
                              model_type:
                                type: string
                              s3_model_path:
                                type: string
                              training_instance_type:
                                type: string
                              data_tar_list:
                                type: array
                                items:
                                  type: string
                            required:
                              - s3_class_data_path_list
                              - class_data_tar_list
                              - model_name
                              - s3_data_path_list
                              - model_type
                              - s3_model_path
                              - training_instance_type
                              - data_tar_list
                            x-apifox-orders:
                              - s3_class_data_path_list
                              - class_data_tar_list
                              - model_name
                              - s3_data_path_list
                              - model_type
                              - s3_model_path
                              - training_instance_type
                              - data_tar_list
                            x-apifox-ignore-properties: []
                        required:
                          - training_params
                        x-apifox-orders:
                          - training_params
                        x-apifox-ignore-properties: []
                      input_location:
                        type: string
                    required:
                      - id
                      - status
                      - created
                      - trainType
                      - params
                      - input_location
                    x-apifox-orders:
                      - id
                      - status
                      - created
                      - trainType
                      - params
                      - input_location
                    x-apifox-ignore-properties: []
                required:
                  - statusCode
                  - job
                x-apifox-orders:
                  - statusCode
                  - job
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    job:
                      id: 269727a1-01c1-43b7-b876-5a92cdffa5f2
                      status: Training
                      created: 1701917985.538536
                      trainType: Stable-diffusion
                      params:
                        training_params:
                          s3_class_data_path_list:
                            - ''
                          class_data_tar_list:
                            - ''
                          model_name: test202311162301
                          s3_data_path_list:
                            - 's3://******/dataset/huahua'
                          model_type: Stable-diffusion
                          s3_model_path: 's3://******/Stable-diffusion/model/test202311162301/6d04302b-3e94-478f-94d5-b3f0c1c21cee/output'
                          training_instance_type: ml.g5.2xlarge
                          data_tar_list:
                            - 's3://******/dataset/huahua'
                      input_location: 's3://******/Stable-diffusion/train/test-model/269727a1-01c1-43b7-b876-5a92cdffa5f2/input'
      security:
        - apikey-header-x-api-key: []
  /trains:
    get:
      summary: ListTrainJobs
      x-apifox-folder: Train
      x-apifox-status: released
      deprecated: false
      description: List all train jobs
      operationId: ListTrainJobs
      tags:
        - Train
      parameters:
        - name: Authorization
          in: header
          required: true
          example: '{{bearerToken}}'
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                  trainJobs:
                    type: array
                    items:
                      $ref: '#/components/schemas/TrainJob'
                required:
                  - statusCode
                  - trainJobs
                x-apifox-orders:
                  - statusCode
                  - trainJobs
                x-apifox-ignore-properties: []
              examples:
                '1':
                  summary: Success
                  value:
                    statusCode: 200
                    trainJobs:
                      - id: 7227f78b-a9de-4c2d-982d-8f972c7f65a1
                        modelName: test-model
                        status: Complete
                        trainType: Stable-diffusion
                        created: 1700992474.228634
                        sagemakerTrainName: test-model-2023-11-26-09-54-39-560
      security:
        - apikey-header-x-api-key: []
components:
  schemas:
    Role:
      type: object
      properties:
        role_name:
          type: string
          description: Role Name
        creator:
          type: string
          description: Create User Name
        permissions:
          type: array
          items:
            type: string
            description: |-
              - train:all
              - checkpoint:all
              - inference:all
              - sagemaker_endpoint:all
              - user:all
              - role:all
          description: Permissions
      required:
        - role_name
        - creator
        - permissions
      x-apifox-orders:
        - role_name
        - creator
        - permissions
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    TrainJob:
      type: object
      properties:
        id:
          type: string
          description: ID
        modelName:
          type: string
          description: Model Name
        status:
          type: string
          description: Status
        trainType:
          type: string
          description: Train Type
        created:
          type: number
          description: Created At
        sagemakerTrainName:
          type: string
          description: Sagemaker Train Name
      required:
        - id
        - modelName
        - status
        - trainType
        - created
        - sagemakerTrainName
      x-apifox-orders:
        - id
        - modelName
        - status
        - trainType
        - created
        - sagemakerTrainName
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    Model:
      type: object
      properties:
        id:
          type: string
          description: ID
        model_name:
          type: string
          description: Model Name
        created:
          type: number
          description: Created At
        params:
          type: object
          properties:
            create_model_params:
              type: object
              properties:
                shared_src:
                  type: string
                extract_ema:
                  type: boolean
                from_hub:
                  type: boolean
                new_model_name:
                  type: string
                ckpt_path:
                  type: string
                train_unfrozen:
                  type: boolean
                new_model_url:
                  type: string
                is_512:
                  type: boolean
                new_model_token:
                  type: string
              required:
                - shared_src
                - extract_ema
                - from_hub
                - new_model_name
                - ckpt_path
                - train_unfrozen
                - new_model_url
                - is_512
                - new_model_token
              x-apifox-orders:
                - shared_src
                - extract_ema
                - from_hub
                - new_model_name
                - ckpt_path
                - train_unfrozen
                - new_model_url
                - is_512
                - new_model_token
              x-apifox-ignore-properties: []
            resp:
              type: object
              properties:
                config_dict:
                  type: object
                  properties:
                    lr_factor:
                      type: number
                    lora_weight:
                      type: integer
                    epoch_pause_frequency:
                      type: integer
                    lr_power:
                      type: integer
                    model_path:
                      type: string
                    resolution:
                      type: integer
                    save_lora_for_extra_net:
                      type: boolean
                    num_train_epochs:
                      type: integer
                    infer_ema:
                      type: boolean
                    save_state_after:
                      type: boolean
                    use_shared_src:
                      type: array
                      items:
                        type: boolean
                    has_ema:
                      type: boolean
                    gradient_set_to_none:
                      type: boolean
                    weight_decay:
                      type: number
                    save_ckpt_after:
                      type: boolean
                    save_lora_cancel:
                      type: boolean
                    save_lora_during:
                      type: boolean
                    noise_scheduler:
                      type: string
                    prior_loss_weight:
                      type: number
                    save_embedding_every:
                      type: integer
                    use_ema:
                      type: boolean
                    lr_scheduler:
                      type: string
                    concepts_path:
                      type: string
                    hflip:
                      type: boolean
                    stop_text_encoder:
                      type: integer
                    train_imagic:
                      type: boolean
                    snapshot:
                      type: string
                    cache_latents:
                      type: boolean
                    lr_scale_pos:
                      type: number
                    deterministic:
                      type: boolean
                    lifetime_revision:
                      type: integer
                    use_concepts:
                      type: boolean
                    epoch:
                      type: integer
                    gradient_accumulation_steps:
                      type: integer
                    mixed_precision:
                      type: string
                    pretrained_model_name_or_path:
                      type: string
                    strict_tokens:
                      type: boolean
                    lora_unet_rank:
                      type: integer
                    save_safetensors:
                      type: boolean
                    model_dir:
                      type: string
                    custom_model_name:
                      type: string
                    disable_logging:
                      type: boolean
                    save_ckpt_cancel:
                      type: boolean
                    gradient_checkpointing:
                      type: boolean
                    prior_loss_weight_min:
                      type: number
                    freeze_clip_normalization:
                      type: boolean
                    lr_warmup_steps:
                      type: integer
                    lora_txt_weight:
                      type: integer
                    pad_tokens:
                      type: boolean
                    use_subdir:
                      type: boolean
                    epoch_pause_time:
                      type: integer
                    train_unet:
                      type: boolean
                    lr_cycles:
                      type: integer
                    v2:
                      type: boolean
                    clip_skip:
                      type: integer
                    txt_learning_rate:
                      type: number
                    max_token_length:
                      type: integer
                    concepts_list:
                      type: array
                      items:
                        type: string
                    save_ema:
                      type: boolean
                    save_lora_after:
                      type: boolean
                    tenc_grad_clip_norm:
                      type: integer
                    split_loss:
                      type: boolean
                    model_name:
                      type: string
                    train_unfrozen:
                      type: boolean
                    save_state_during:
                      type: boolean
                    tomesd:
                      type: integer
                    ema_predict:
                      type: boolean
                    tenc_weight_decay:
                      type: number
                    revision:
                      type: integer
                    train_batch_size:
                      type: integer
                    shuffle_tags:
                      type: boolean
                    save_state_cancel:
                      type: boolean
                    use_lora:
                      type: boolean
                    initial_revision:
                      type: integer
                    offset_noise:
                      type: integer
                    graph_smoothing:
                      type: integer
                    dynamic_img_norm:
                      type: boolean
                    scheduler:
                      type: string
                    half_model:
                      type: boolean
                    sample_batch_size:
                      type: integer
                    sanity_seed:
                      type: integer
                    optimizer:
                      type: string
                    learning_rate_min:
                      type: number
                    shared_diffusers_path:
                      type: string
                    lora_learning_rate:
                      type: number
                    prior_loss_scale:
                      type: boolean
                    prior_loss_target:
                      type: integer
                    src:
                      type: string
                    pretrained_vae_name_or_path:
                      type: string
                    lora_txt_learning_rate:
                      type: number
                    save_ckpt_during:
                      type: boolean
                    use_lora_extended:
                      type: boolean
                    save_preview_every:
                      type: integer
                    attention:
                      type: string
                    lora_model_name:
                      type: string
                    lora_txt_rank:
                      type: integer
                    sanity_prompt:
                      type: string
                    learning_rate:
                      type: number
                    lora_use_buggy_requires_grad:
                      type: boolean
                    disable_class_matching:
                      type: boolean
                  required:
                    - lr_factor
                    - lora_weight
                    - epoch_pause_frequency
                    - lr_power
                    - model_path
                    - resolution
                    - save_lora_for_extra_net
                    - num_train_epochs
                    - infer_ema
                    - save_state_after
                    - use_shared_src
                    - has_ema
                    - gradient_set_to_none
                    - weight_decay
                    - save_ckpt_after
                    - save_lora_cancel
                    - save_lora_during
                    - noise_scheduler
                    - prior_loss_weight
                    - save_embedding_every
                    - use_ema
                    - lr_scheduler
                    - concepts_path
                    - hflip
                    - stop_text_encoder
                    - train_imagic
                    - snapshot
                    - cache_latents
                    - lr_scale_pos
                    - deterministic
                    - lifetime_revision
                    - use_concepts
                    - epoch
                    - gradient_accumulation_steps
                    - mixed_precision
                    - pretrained_model_name_or_path
                    - strict_tokens
                    - lora_unet_rank
                    - save_safetensors
                    - model_dir
                    - custom_model_name
                    - disable_logging
                    - save_ckpt_cancel
                    - gradient_checkpointing
                    - prior_loss_weight_min
                    - freeze_clip_normalization
                    - lr_warmup_steps
                    - lora_txt_weight
                    - pad_tokens
                    - use_subdir
                    - epoch_pause_time
                    - train_unet
                    - lr_cycles
                    - v2
                    - clip_skip
                    - txt_learning_rate
                    - max_token_length
                    - concepts_list
                    - save_ema
                    - save_lora_after
                    - tenc_grad_clip_norm
                    - split_loss
                    - model_name
                    - train_unfrozen
                    - save_state_during
                    - tomesd
                    - ema_predict
                    - tenc_weight_decay
                    - revision
                    - train_batch_size
                    - shuffle_tags
                    - save_state_cancel
                    - use_lora
                    - initial_revision
                    - offset_noise
                    - graph_smoothing
                    - dynamic_img_norm
                    - scheduler
                    - half_model
                    - sample_batch_size
                    - sanity_seed
                    - optimizer
                    - learning_rate_min
                    - shared_diffusers_path
                    - lora_learning_rate
                    - prior_loss_scale
                    - prior_loss_target
                    - src
                    - pretrained_vae_name_or_path
                    - lora_txt_learning_rate
                    - save_ckpt_during
                    - use_lora_extended
                    - save_preview_every
                    - attention
                    - lora_model_name
                    - lora_txt_rank
                    - sanity_prompt
                    - learning_rate
                    - lora_use_buggy_requires_grad
                    - disable_class_matching
                  x-apifox-orders:
                    - lr_factor
                    - lora_weight
                    - epoch_pause_frequency
                    - lr_power
                    - model_path
                    - resolution
                    - save_lora_for_extra_net
                    - num_train_epochs
                    - infer_ema
                    - save_state_after
                    - use_shared_src
                    - has_ema
                    - gradient_set_to_none
                    - weight_decay
                    - save_ckpt_after
                    - save_lora_cancel
                    - save_lora_during
                    - noise_scheduler
                    - prior_loss_weight
                    - save_embedding_every
                    - use_ema
                    - lr_scheduler
                    - concepts_path
                    - hflip
                    - stop_text_encoder
                    - train_imagic
                    - snapshot
                    - cache_latents
                    - lr_scale_pos
                    - deterministic
                    - lifetime_revision
                    - use_concepts
                    - epoch
                    - gradient_accumulation_steps
                    - mixed_precision
                    - pretrained_model_name_or_path
                    - strict_tokens
                    - lora_unet_rank
                    - save_safetensors
                    - model_dir
                    - custom_model_name
                    - disable_logging
                    - save_ckpt_cancel
                    - gradient_checkpointing
                    - prior_loss_weight_min
                    - freeze_clip_normalization
                    - lr_warmup_steps
                    - lora_txt_weight
                    - pad_tokens
                    - use_subdir
                    - epoch_pause_time
                    - train_unet
                    - lr_cycles
                    - v2
                    - clip_skip
                    - txt_learning_rate
                    - max_token_length
                    - concepts_list
                    - save_ema
                    - save_lora_after
                    - tenc_grad_clip_norm
                    - split_loss
                    - model_name
                    - train_unfrozen
                    - save_state_during
                    - tomesd
                    - ema_predict
                    - tenc_weight_decay
                    - revision
                    - train_batch_size
                    - shuffle_tags
                    - save_state_cancel
                    - use_lora
                    - initial_revision
                    - offset_noise
                    - graph_smoothing
                    - dynamic_img_norm
                    - scheduler
                    - half_model
                    - sample_batch_size
                    - sanity_seed
                    - optimizer
                    - learning_rate_min
                    - shared_diffusers_path
                    - lora_learning_rate
                    - prior_loss_scale
                    - prior_loss_target
                    - src
                    - pretrained_vae_name_or_path
                    - lora_txt_learning_rate
                    - save_ckpt_during
                    - use_lora_extended
                    - save_preview_every
                    - attention
                    - lora_model_name
                    - lora_txt_rank
                    - sanity_prompt
                    - learning_rate
                    - lora_use_buggy_requires_grad
                    - disable_class_matching
                  x-apifox-ignore-properties: []
                response:
                  type: array
                  items:
                    oneOf:
                      - properties:
                          visible:
                            type: boolean
                          choices:
                            type: array
                            items:
                              type: string
                          value:
                            type: string
                          __type__:
                            type: string
                        type: object
                        x-apifox-orders:
                          - visible
                          - choices
                          - value
                          - __type__
                        x-apifox-ignore-properties: []
                      - type: string
                      - type: integer
                s3_output_location:
                  type: string
              required:
                - config_dict
                - response
                - s3_output_location
              x-apifox-orders:
                - config_dict
                - response
                - s3_output_location
              x-apifox-ignore-properties: []
          required:
            - create_model_params
            - resp
          x-apifox-orders:
            - create_model_params
            - resp
          description: Parameters
          x-apifox-ignore-properties: []
        status:
          type: string
          description: Status
        output_s3_location:
          type: string
          description: Output S3 Location
      required:
        - id
        - model_name
        - created
        - params
        - status
        - output_s3_location
      x-apifox-orders:
        - id
        - model_name
        - created
        - params
        - status
        - output_s3_location
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    InferenceJob:
      type: object
      properties:
        inference_info_name:
          type: string
          description: Inference Info Name
        startTime:
          type: string
          description: Start Time
        taskType:
          type: string
          description: Task Type
        completeTime:
          type: string
          description: Complete Time
        params:
          type: object
          properties:
            input_body_presign_url:
              type: string
            used_models:
              type: object
              properties:
                Stable-diffusion:
                  type: array
                  items:
                    type: object
                    properties:
                      s3:
                        type: string
                      id:
                        type: string
                      model_name:
                        type: string
                      type:
                        type: string
                    x-apifox-orders:
                      - s3
                      - id
                      - model_name
                      - type
                    x-apifox-ignore-properties: []
                Lora:
                  type: array
                  items:
                    type: object
                    properties:
                      s3:
                        type: string
                      id:
                        type: string
                      model_name:
                        type: string
                      type:
                        type: string
                    x-apifox-orders:
                      - s3
                      - id
                      - model_name
                      - type
                    x-apifox-ignore-properties: []
              required:
                - Stable-diffusion
                - Lora
              x-apifox-orders:
                - Stable-diffusion
                - Lora
              x-apifox-ignore-properties: []
            input_body_s3:
              type: string
            output_path:
              type: string
            sagemaker_inference_endpoint_id:
              type: string
            sagemaker_inference_endpoint_name:
              type: string
          required:
            - input_body_presign_url
            - used_models
            - input_body_s3
            - output_path
            - sagemaker_inference_endpoint_id
            - sagemaker_inference_endpoint_name
          x-apifox-orders:
            - input_body_presign_url
            - used_models
            - input_body_s3
            - output_path
            - sagemaker_inference_endpoint_id
            - sagemaker_inference_endpoint_name
          description: Params
          x-apifox-ignore-properties: []
        InferenceJobId:
          type: string
          description: Inference Job Id
        status:
          type: string
          description: Status
        sagemakerRaw:
          type: string
          description: Sagemaker Raw
        image_names:
          type: array
          items:
            type: string
          description: Images Array
        owner_group_or_role:
          type: array
          items:
            type: string
          description: Roles
      required:
        - inference_info_name
        - startTime
        - taskType
        - completeTime
        - params
        - InferenceJobId
        - status
        - sagemakerRaw
        - image_names
        - owner_group_or_role
      x-apifox-orders:
        - inference_info_name
        - startTime
        - taskType
        - completeTime
        - params
        - InferenceJobId
        - status
        - sagemakerRaw
        - image_names
        - owner_group_or_role
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    User:
      type: object
      properties:
        username:
          type: string
          description: User Name
        roles:
          type: array
          items:
            type: string
          description: Roles
        creator:
          type: string
          description: Creator User Name
        permissions:
          type: array
          items:
            type: string
          description: Permissions
        password:
          type: string
          description: Password
      required:
        - username
        - roles
        - creator
        - permissions
        - password
      x-apifox-orders:
        - username
        - roles
        - creator
        - permissions
        - password
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    Endpoint:
      type: object
      properties:
        EndpointDeploymentJobId:
          type: string
          description: ID
        autoscaling:
          type: boolean
          description: Autoscaling Enabled
        max_instance_number:
          type: string
          description: Max Instance Count
        startTime:
          type: string
          description: Start Time
        current_instance_count:
          type: integer
          description: Current Instance Count
        endTime:
          type: string
          description: End Time
        endpoint_status:
          type: string
          description: Endpoint Status
        endpoint_name:
          type: string
          description: Endpoint Name
        error:
          type: 'null'
          description: Error Message
        owner_group_or_role:
          type: array
          items:
            type: string
          description: Roles
      required:
        - EndpointDeploymentJobId
        - autoscaling
        - max_instance_number
        - startTime
        - current_instance_count
        - endTime
        - endpoint_status
        - endpoint_name
        - error
        - owner_group_or_role
      x-apifox-orders:
        - EndpointDeploymentJobId
        - autoscaling
        - max_instance_number
        - startTime
        - current_instance_count
        - endTime
        - endpoint_status
        - endpoint_name
        - error
        - owner_group_or_role
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
    Checkpoint:
      type: object
      properties:
        id:
          type: string
        s3Location:
          type: string
        type:
          type: string
        status:
          type: string
        name:
          type: array
          items:
            type: string
        created:
          type: number
        allowed_roles_or_users:
          type: array
          items:
            type: string
      required:
        - id
        - s3Location
        - type
        - status
        - name
        - created
        - allowed_roles_or_users
      x-apifox-orders:
        - id
        - s3Location
        - type
        - status
        - name
        - created
        - allowed_roles_or_users
      x-apifox-ignore-properties: []
      x-apifox-folder: ''
  securitySchemes:
    apikey-header-x-api-key:
      type: apiKey
      in: header
      name: x-api-key
servers:
  - url: 'https://{apiId}.execute-api.{region}.amazonaws.com/prod/'
    description: API Gateway endpoint for Prod stage
    variables:
      apiId:
        default: ''
      region:
        default: us-east-1
